"use strict";var xc=Object.create;var ve=Object.defineProperty;var Cc=Object.getOwnPropertyDescriptor;var Ic=Object.getOwnPropertyNames;var Lc=Object.getPrototypeOf,Rc=Object.prototype.hasOwnProperty;var L=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Mc=(e,t)=>{for(var r in t)ve(e,r,{get:t[r],enumerable:!0})},xi=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ic(t))!Rc.call(e,i)&&i!==r&&ve(e,i,{get:()=>t[i],enumerable:!(n=Cc(t,i))||n.enumerable});return e};var Sr=(e,t,r)=>(r=e!=null?xc(Lc(e)):{},xi(t||!e||!e.__esModule?ve(r,"default",{value:e,enumerable:!0}):r,e)),Fc=e=>xi(ve({},"__esModule",{value:!0}),e);var Ci=L(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.splitWhen=te.flatten=void 0;function qc(e){return e.reduce((t,r)=>[].concat(t,r),[])}te.flatten=qc;function kc(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}te.splitWhen=kc});var Ii=L(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.isEnoentCodeError=void 0;function Bc(e){return e.code==="ENOENT"}Oe.isEnoentCodeError=Bc});var Li=L(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.createDirentFromStats=void 0;var vr=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Hc(e,t){return new vr(e,t)}Pe.createDirentFromStats=Hc});var Ri=L(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.removeLeadingDotSegment=gt.escape=gt.makeAbsolute=gt.unixify=void 0;var jc=require("path"),$c=2,Xc=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function Uc(e){return e.replace(/\\/g,"/")}gt.unixify=Uc;function Vc(e,t){return jc.resolve(e,t)}gt.makeAbsolute=Vc;function Gc(e){return e.replace(Xc,"\\$2")}gt.escape=Gc;function Wc(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice($c)}return e}gt.removeLeadingDotSegment=Wc});var Fi=L((wd,Mi)=>{Mi.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var Bi=L((Td,ki)=>{var Yc=Fi(),qi={"{":"}","(":")","[":"]"},Kc=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,n=-2,i=-2,o=-2,s=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||n!==-1&&e[t]==="["&&e[t+1]!=="]"&&(n<t&&(n=e.indexOf("]",t)),n>t&&(s===-1||s>n||(s=e.indexOf("\\",t),s===-1||s>n)))||i!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(i=e.indexOf("}",t),i>t&&(s=e.indexOf("\\",t),s===-1||s>i))||o!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(o=e.indexOf(")",t),o>t&&(s=e.indexOf("\\",t),s===-1||s>o))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(o=e.indexOf(")",r),o>r&&(s=e.indexOf("\\",r),s===-1||s>o))))return!0;if(e[t]==="\\"){var a=e[t+1];t+=2;var l=qi[a];if(l){var y=e.indexOf(l,t);y!==-1&&(t=y+1)}if(e[t]==="!")return!0}else t++}return!1},Qc=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var r=e[t+1];t+=2;var n=qi[r];if(n){var i=e.indexOf(n,t);i!==-1&&(t=i+1)}if(e[t]==="!")return!0}else t++}return!1};ki.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(Yc(t))return!0;var n=Kc;return r&&r.strict===!1&&(n=Qc),n(t)}});var ji=L((Ad,Hi)=>{"use strict";var Jc=Bi(),zc=require("path").posix.dirname,Zc=require("os").platform()==="win32",Or="/",tl=/\\/g,el=/[\{\[].*[\}\]]$/,rl=/(^|[^\\])([\{\[]|\([^\)]+$)/,nl=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Hi.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&Zc&&t.indexOf(Or)<0&&(t=t.replace(tl,Or)),el.test(t)&&(t+=Or),t+="a";do t=zc(t);while(Jc(t)||rl.test(t));return t.replace(nl,"$1")}});var De=L(ht=>{"use strict";ht.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;ht.find=(e,t)=>e.nodes.find(r=>r.type===t);ht.exceedsLimit=(e,t,r=1,n)=>n===!1||!ht.isInteger(e)||!ht.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;ht.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};ht.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;ht.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;ht.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;ht.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);ht.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?r(o,t):o!==void 0&&t.push(o)}return t};return r(e),t}});var Ne=L((vd,Xi)=>{"use strict";var $i=De();Xi.exports=(e,t={})=>{let r=(n,i={})=>{let o=t.escapeInvalid&&$i.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(o||s)&&$i.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let l of n.nodes)a+=r(l);return a};return r(e)}});var Vi=L((Od,Ui)=>{"use strict";Ui.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var ts=L((Pd,Zi)=>{"use strict";var Gi=Vi(),$t=(e,t,r)=>{if(Gi(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(Gi(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),o=String(n.shorthand),s=String(n.capture),a=String(n.wrap),l=e+":"+t+"="+i+o+s+a;if($t.cache.hasOwnProperty(l))return $t.cache[l].result;let y=Math.min(e,t),g=Math.max(e,t);if(Math.abs(y-g)===1){let v=e+"|"+t;return n.capture?`(${v})`:n.wrap===!1?v:`(?:${v})`}let b=zi(e)||zi(t),c={min:e,max:t,a:y,b:g},m=[],d=[];if(b&&(c.isPadded=b,c.maxLen=String(c.max).length),y<0){let v=g<0?Math.abs(g):1;d=Wi(v,Math.abs(y),c,n),y=c.a=0}return g>=0&&(m=Wi(y,g,c,n)),c.negatives=d,c.positives=m,c.result=il(d,m,n),n.capture===!0?c.result=`(${c.result})`:n.wrap!==!1&&m.length+d.length>1&&(c.result=`(?:${c.result})`),$t.cache[l]=c,c.result};function il(e,t,r){let n=Pr(e,t,"-",!1,r)||[],i=Pr(t,e,"",!1,r)||[],o=Pr(e,t,"-?",!0,r)||[];return n.concat(o).concat(i).join("|")}function sl(e,t){let r=1,n=1,i=Ki(e,r),o=new Set([t]);for(;e<=i&&i<=t;)o.add(i),r+=1,i=Ki(e,r);for(i=Qi(t+1,n)-1;e<i&&i<=t;)o.add(i),n+=1,i=Qi(t+1,n)-1;return o=[...o],o.sort(ul),o}function ol(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=al(e,t),i=n.length,o="",s=0;for(let a=0;a<i;a++){let[l,y]=n[a];l===y?o+=l:l!=="0"||y!=="9"?o+=cl(l,y,r):s++}return s&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function Wi(e,t,r,n){let i=sl(e,t),o=[],s=e,a;for(let l=0;l<i.length;l++){let y=i[l],g=ol(String(s),String(y),n),b="";if(!r.isPadded&&a&&a.pattern===g.pattern){a.count.length>1&&a.count.pop(),a.count.push(g.count[0]),a.string=a.pattern+Ji(a.count),s=y+1;continue}r.isPadded&&(b=ll(y,r,n)),g.string=b+g.pattern+Ji(g.count),o.push(g),s=y+1,a=g}return o}function Pr(e,t,r,n,i){let o=[];for(let s of e){let{string:a}=s;!n&&!Yi(t,"string",a)&&o.push(r+a),n&&Yi(t,"string",a)&&o.push(r+a)}return o}function al(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function ul(e,t){return e>t?1:t>e?-1:0}function Yi(e,t,r){return e.some(n=>n[t]===r)}function Ki(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Qi(e,t){return e-e%Math.pow(10,t)}function Ji(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function cl(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function zi(e){return/^-?(0+)\d/.test(e)}function ll(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}$t.cache={};$t.clearCache=()=>$t.cache={};Zi.exports=$t});var xr=L((Dd,us)=>{"use strict";var fl=require("util"),ns=ts(),es=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),pl=e=>t=>e===!0?Number(t):String(t),Dr=e=>typeof e=="number"||typeof e=="string"&&e!=="",de=e=>Number.isInteger(+e),Nr=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},hl=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,dl=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},rs=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},yl=(e,t)=>{e.negatives.sort((s,a)=>s<a?-1:s>a?1:0),e.positives.sort((s,a)=>s<a?-1:s>a?1:0);let r=t.capture?"":"?:",n="",i="",o;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?o=`${n}|${i}`:o=n||i,t.wrap?`(${r}${o})`:o},is=(e,t,r,n)=>{if(r)return ns(e,t,{wrap:!1,...n});let i=String.fromCharCode(e);if(e===t)return i;let o=String.fromCharCode(t);return`[${i}-${o}]`},ss=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return ns(e,t,r)},os=(...e)=>new RangeError("Invalid range arguments: "+fl.inspect(...e)),as=(e,t,r)=>{if(r.strictRanges===!0)throw os([e,t]);return[]},ml=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},gl=(e,t,r=1,n={})=>{let i=Number(e),o=Number(t);if(!Number.isInteger(i)||!Number.isInteger(o)){if(n.strictRanges===!0)throw os([e,t]);return[]}i===0&&(i=0),o===0&&(o=0);let s=i>o,a=String(e),l=String(t),y=String(r);r=Math.max(Math.abs(r),1);let g=Nr(a)||Nr(l)||Nr(y),b=g?Math.max(a.length,l.length,y.length):0,c=g===!1&&hl(e,t,n)===!1,m=n.transform||pl(c);if(n.toRegex&&r===1)return is(rs(e,b),rs(t,b),!0,n);let d={negatives:[],positives:[]},v=R=>d[R<0?"negatives":"positives"].push(Math.abs(R)),C=[],P=0;for(;s?i>=o:i<=o;)n.toRegex===!0&&r>1?v(i):C.push(dl(m(i,P),b,c)),i=s?i-r:i+r,P++;return n.toRegex===!0?r>1?yl(d,n):ss(C,null,{wrap:!1,...n}):C},_l=(e,t,r=1,n={})=>{if(!de(e)&&e.length>1||!de(t)&&t.length>1)return as(e,t,n);let i=n.transform||(c=>String.fromCharCode(c)),o=`${e}`.charCodeAt(0),s=`${t}`.charCodeAt(0),a=o>s,l=Math.min(o,s),y=Math.max(o,s);if(n.toRegex&&r===1)return is(l,y,!1,n);let g=[],b=0;for(;a?o>=s:o<=s;)g.push(i(o,b)),o=a?o-r:o+r,b++;return n.toRegex===!0?ss(g,null,{wrap:!1,options:n}):g},xe=(e,t,r,n={})=>{if(t==null&&Dr(e))return[e];if(!Dr(e)||!Dr(t))return as(e,t,n);if(typeof r=="function")return xe(e,t,1,{transform:r});if(es(r))return xe(e,t,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,de(r)?de(e)&&de(t)?gl(e,t,r,i):_l(e,t,Math.max(Math.abs(r),1),i):r!=null&&!es(r)?ml(r,i):xe(e,t,1,r)};us.exports=xe});var fs=L((Nd,ls)=>{"use strict";var El=xr(),cs=De(),bl=(e,t={})=>{let r=(n,i={})=>{let o=cs.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a=o===!0||s===!0,l=t.escapeInvalid===!0?"\\":"",y="";if(n.isOpen===!0||n.isClose===!0)return l+n.value;if(n.type==="open")return a?l+n.value:"(";if(n.type==="close")return a?l+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let g=cs.reduce(n.nodes),b=El(...g,{...t,wrap:!1,toRegex:!0});if(b.length!==0)return g.length>1&&b.length>1?`(${b})`:b}if(n.nodes)for(let g of n.nodes)y+=r(g,n);return y};return r(e)};ls.exports=bl});var ds=L((xd,hs)=>{"use strict";var wl=xr(),ps=Ne(),ee=De(),Xt=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?ee.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let o of i)n.push(Xt(o,t,r));else for(let o of t)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?Xt(i,o,r):i+o);return ee.flatten(n)},Tl=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,o={})=>{i.queue=[];let s=o,a=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,a=s.queue;if(i.invalid||i.dollar){a.push(Xt(a.pop(),ps(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Xt(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let b=ee.reduce(i.nodes);if(ee.exceedsLimit(...b,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=wl(...b,t);c.length===0&&(c=ps(i,t)),a.push(Xt(a.pop(),c)),i.nodes=[];return}let l=ee.encloseBrace(i),y=i.queue,g=i;for(;g.type!=="brace"&&g.type!=="root"&&g.parent;)g=g.parent,y=g.queue;for(let b=0;b<i.nodes.length;b++){let c=i.nodes[b];if(c.type==="comma"&&i.type==="brace"){b===1&&y.push(""),y.push("");continue}if(c.type==="close"){a.push(Xt(a.pop(),y,l));continue}if(c.value&&c.type!=="open"){y.push(Xt(y.pop(),c.value));continue}c.nodes&&n(c,i)}return y};return ee.flatten(n(e))};hs.exports=Tl});var ms=L((Cd,ys)=>{"use strict";ys.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var ws=L((Id,bs)=>{"use strict";var Al=Ne(),{MAX_LENGTH:gs,CHAR_BACKSLASH:Cr,CHAR_BACKTICK:Sl,CHAR_COMMA:vl,CHAR_DOT:Ol,CHAR_LEFT_PARENTHESES:Pl,CHAR_RIGHT_PARENTHESES:Dl,CHAR_LEFT_CURLY_BRACE:Nl,CHAR_RIGHT_CURLY_BRACE:xl,CHAR_LEFT_SQUARE_BRACKET:_s,CHAR_RIGHT_SQUARE_BRACKET:Es,CHAR_DOUBLE_QUOTE:Cl,CHAR_SINGLE_QUOTE:Il,CHAR_NO_BREAK_SPACE:Ll,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Rl}=ms(),Ml=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(gs,r.maxLength):gs;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},o=[i],s=i,a=i,l=0,y=e.length,g=0,b=0,c,m={},d=()=>e[g++],v=C=>{if(C.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&C.type==="text"){a.value+=C.value;return}return s.nodes.push(C),C.parent=s,C.prev=a,a=C,C};for(v({type:"bos"});g<y;)if(s=o[o.length-1],c=d(),!(c===Rl||c===Ll)){if(c===Cr){v({type:"text",value:(t.keepEscaping?c:"")+d()});continue}if(c===Es){v({type:"text",value:"\\"+c});continue}if(c===_s){l++;let C=!0,P;for(;g<y&&(P=d());){if(c+=P,P===_s){l++;continue}if(P===Cr){c+=d();continue}if(P===Es&&(l--,l===0))break}v({type:"text",value:c});continue}if(c===Pl){s=v({type:"paren",nodes:[]}),o.push(s),v({type:"text",value:c});continue}if(c===Dl){if(s.type!=="paren"){v({type:"text",value:c});continue}s=o.pop(),v({type:"text",value:c}),s=o[o.length-1];continue}if(c===Cl||c===Il||c===Sl){let C=c,P;for(t.keepQuotes!==!0&&(c="");g<y&&(P=d());){if(P===Cr){c+=P+d();continue}if(P===C){t.keepQuotes===!0&&(c+=P);break}c+=P}v({type:"text",value:c});continue}if(c===Nl){b++;let C=a.value&&a.value.slice(-1)==="$"||s.dollar===!0;s=v({type:"brace",open:!0,close:!1,dollar:C,depth:b,commas:0,ranges:0,nodes:[]}),o.push(s),v({type:"open",value:c});continue}if(c===xl){if(s.type!=="brace"){v({type:"text",value:c});continue}let C="close";s=o.pop(),s.close=!0,v({type:C,value:c}),b--,s=o[o.length-1];continue}if(c===vl&&b>0){if(s.ranges>0){s.ranges=0;let C=s.nodes.shift();s.nodes=[C,{type:"text",value:Al(s)}]}v({type:"comma",value:c}),s.commas++;continue}if(c===Ol&&b>0&&s.commas===0){let C=s.nodes;if(b===0||C.length===0){v({type:"text",value:c});continue}if(a.type==="dot"){if(s.range=[],a.value+=c,a.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,a.type="text";continue}s.ranges++,s.args=[];continue}if(a.type==="range"){C.pop();let P=C[C.length-1];P.value+=a.value+c,a=P,s.ranges--;continue}v({type:"dot",value:c});continue}v({type:"text",value:c})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(R=>{R.nodes||(R.type==="open"&&(R.isOpen=!0),R.type==="close"&&(R.isClose=!0),R.nodes||(R.type="text"),R.invalid=!0)});let C=o[o.length-1],P=C.nodes.indexOf(s);C.nodes.splice(P,1,...s.nodes)}while(o.length>0);return v({type:"eos"}),i};bs.exports=Ml});var Ss=L((Ld,As)=>{"use strict";var Ts=Ne(),Fl=fs(),ql=ds(),kl=ws(),ct=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=ct.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(ct.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};ct.parse=(e,t={})=>kl(e,t);ct.stringify=(e,t={})=>Ts(typeof e=="string"?ct.parse(e,t):e,t);ct.compile=(e,t={})=>(typeof e=="string"&&(e=ct.parse(e,t)),Fl(e,t));ct.expand=(e,t={})=>{typeof e=="string"&&(e=ct.parse(e,t));let r=ql(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};ct.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?ct.compile(e,t):ct.expand(e,t);As.exports=ct});var ye=L((Rd,Ns)=>{"use strict";var Bl=require("path"),_t="\\\\/",vs=`[^${_t}]`,vt="\\.",Hl="\\+",jl="\\?",Ce="\\/",$l="(?=.)",Os="[^/]",Ir=`(?:${Ce}|$)`,Ps=`(?:^|${Ce})`,Lr=`${vt}{1,2}${Ir}`,Xl=`(?!${vt})`,Ul=`(?!${Ps}${Lr})`,Vl=`(?!${vt}{0,1}${Ir})`,Gl=`(?!${Lr})`,Wl=`[^.${Ce}]`,Yl=`${Os}*?`,Ds={DOT_LITERAL:vt,PLUS_LITERAL:Hl,QMARK_LITERAL:jl,SLASH_LITERAL:Ce,ONE_CHAR:$l,QMARK:Os,END_ANCHOR:Ir,DOTS_SLASH:Lr,NO_DOT:Xl,NO_DOTS:Ul,NO_DOT_SLASH:Vl,NO_DOTS_SLASH:Gl,QMARK_NO_DOT:Wl,STAR:Yl,START_ANCHOR:Ps},Kl={...Ds,SLASH_LITERAL:`[${_t}]`,QMARK:vs,STAR:`${vs}*?`,DOTS_SLASH:`${vt}{1,2}(?:[${_t}]|$)`,NO_DOT:`(?!${vt})`,NO_DOTS:`(?!(?:^|[${_t}])${vt}{1,2}(?:[${_t}]|$))`,NO_DOT_SLASH:`(?!${vt}{0,1}(?:[${_t}]|$))`,NO_DOTS_SLASH:`(?!${vt}{1,2}(?:[${_t}]|$))`,QMARK_NO_DOT:`[^.${_t}]`,START_ANCHOR:`(?:^|[${_t}])`,END_ANCHOR:`(?:[${_t}]|$)`},Ql={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Ns.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Ql,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Bl.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Kl:Ds}}});var me=L(ut=>{"use strict";var Jl=require("path"),zl=process.platform==="win32",{REGEX_BACKSLASH:Zl,REGEX_REMOVE_BACKSLASH:tf,REGEX_SPECIAL_CHARS:ef,REGEX_SPECIAL_CHARS_GLOBAL:rf}=ye();ut.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);ut.hasRegexChars=e=>ef.test(e);ut.isRegexChar=e=>e.length===1&&ut.hasRegexChars(e);ut.escapeRegex=e=>e.replace(rf,"\\$1");ut.toPosixSlashes=e=>e.replace(Zl,"/");ut.removeBackslashes=e=>e.replace(tf,t=>t==="\\"?"":t);ut.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};ut.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:zl===!0||Jl.sep==="\\";ut.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?ut.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};ut.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};ut.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",o=`${n}(?:${e})${i}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var qs=L((Fd,Fs)=>{"use strict";var xs=me(),{CHAR_ASTERISK:Rr,CHAR_AT:nf,CHAR_BACKWARD_SLASH:ge,CHAR_COMMA:sf,CHAR_DOT:Mr,CHAR_EXCLAMATION_MARK:Fr,CHAR_FORWARD_SLASH:Ms,CHAR_LEFT_CURLY_BRACE:qr,CHAR_LEFT_PARENTHESES:kr,CHAR_LEFT_SQUARE_BRACKET:of,CHAR_PLUS:af,CHAR_QUESTION_MARK:Cs,CHAR_RIGHT_CURLY_BRACE:uf,CHAR_RIGHT_PARENTHESES:Is,CHAR_RIGHT_SQUARE_BRACKET:cf}=ye(),Ls=e=>e===Ms||e===ge,Rs=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},lf=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,o=[],s=[],a=[],l=e,y=-1,g=0,b=0,c=!1,m=!1,d=!1,v=!1,C=!1,P=!1,R=!1,E=!1,p=!1,u=!1,w=0,O,_,N={value:"",depth:0,isGlob:!1},A=()=>y>=n,T=()=>l.charCodeAt(y+1),I=()=>(O=_,l.charCodeAt(++y));for(;y<n;){_=I();let U;if(_===ge){R=N.backslashes=!0,_=I(),_===qr&&(P=!0);continue}if(P===!0||_===qr){for(w++;A()!==!0&&(_=I());){if(_===ge){R=N.backslashes=!0,I();continue}if(_===qr){w++;continue}if(P!==!0&&_===Mr&&(_=I())===Mr){if(c=N.isBrace=!0,d=N.isGlob=!0,u=!0,i===!0)continue;break}if(P!==!0&&_===sf){if(c=N.isBrace=!0,d=N.isGlob=!0,u=!0,i===!0)continue;break}if(_===uf&&(w--,w===0)){P=!1,c=N.isBrace=!0,u=!0;break}}if(i===!0)continue;break}if(_===Ms){if(o.push(y),s.push(N),N={value:"",depth:0,isGlob:!1},u===!0)continue;if(O===Mr&&y===g+1){g+=2;continue}b=y+1;continue}if(r.noext!==!0&&(_===af||_===nf||_===Rr||_===Cs||_===Fr)===!0&&T()===kr){if(d=N.isGlob=!0,v=N.isExtglob=!0,u=!0,_===Fr&&y===g&&(p=!0),i===!0){for(;A()!==!0&&(_=I());){if(_===ge){R=N.backslashes=!0,_=I();continue}if(_===Is){d=N.isGlob=!0,u=!0;break}}continue}break}if(_===Rr){if(O===Rr&&(C=N.isGlobstar=!0),d=N.isGlob=!0,u=!0,i===!0)continue;break}if(_===Cs){if(d=N.isGlob=!0,u=!0,i===!0)continue;break}if(_===of){for(;A()!==!0&&(U=I());){if(U===ge){R=N.backslashes=!0,I();continue}if(U===cf){m=N.isBracket=!0,d=N.isGlob=!0,u=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&_===Fr&&y===g){E=N.negated=!0,g++;continue}if(r.noparen!==!0&&_===kr){if(d=N.isGlob=!0,i===!0){for(;A()!==!0&&(_=I());){if(_===kr){R=N.backslashes=!0,_=I();continue}if(_===Is){u=!0;break}}continue}break}if(d===!0){if(u=!0,i===!0)continue;break}}r.noext===!0&&(v=!1,d=!1);let q=l,j="",x="";g>0&&(j=l.slice(0,g),l=l.slice(g),b-=g),q&&d===!0&&b>0?(q=l.slice(0,b),x=l.slice(b)):d===!0?(q="",x=l):q=l,q&&q!==""&&q!=="/"&&q!==l&&Ls(q.charCodeAt(q.length-1))&&(q=q.slice(0,-1)),r.unescape===!0&&(x&&(x=xs.removeBackslashes(x)),q&&R===!0&&(q=xs.removeBackslashes(q)));let D={prefix:j,input:e,start:g,base:q,glob:x,isBrace:c,isBracket:m,isGlob:d,isExtglob:v,isGlobstar:C,negated:E,negatedExtglob:p};if(r.tokens===!0&&(D.maxDepth=0,Ls(_)||s.push(N),D.tokens=s),r.parts===!0||r.tokens===!0){let U;for(let k=0;k<o.length;k++){let tt=U?U+1:g,K=o[k],et=e.slice(tt,K);r.tokens&&(k===0&&g!==0?(s[k].isPrefix=!0,s[k].value=j):s[k].value=et,Rs(s[k]),D.maxDepth+=s[k].depth),(k!==0||et!=="")&&a.push(et),U=K}if(U&&U+1<e.length){let k=e.slice(U+1);a.push(k),r.tokens&&(s[s.length-1].value=k,Rs(s[s.length-1]),D.maxDepth+=s[s.length-1].depth)}D.slashes=o,D.parts=a}return D};Fs.exports=lf});var js=L((qd,Hs)=>{"use strict";var Ie=ye(),lt=me(),{MAX_LENGTH:Le,POSIX_REGEX_SOURCE:ff,REGEX_NON_SPECIAL_CHARS:pf,REGEX_SPECIAL_CHARS_BACKREF:hf,REPLACEMENTS:ks}=Ie,df=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(i=>lt.escapeRegex(i)).join("..")}return r},re=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Bs=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=ks[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(Le,r.maxLength):Le,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},s=[o],a=r.capture?"":"?:",l=lt.isWindows(t),y=Ie.globChars(l),g=Ie.extglobChars(y),{DOT_LITERAL:b,PLUS_LITERAL:c,SLASH_LITERAL:m,ONE_CHAR:d,DOTS_SLASH:v,NO_DOT:C,NO_DOT_SLASH:P,NO_DOTS_SLASH:R,QMARK:E,QMARK_NO_DOT:p,STAR:u,START_ANCHOR:w}=y,O=S=>`(${a}(?:(?!${w}${S.dot?v:b}).)*?)`,_=r.dot?"":C,N=r.dot?E:p,A=r.bash===!0?O(r):u;r.capture&&(A=`(${A})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let T={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=lt.removePrefix(e,T),i=e.length;let I=[],q=[],j=[],x=o,D,U=()=>T.index===i-1,k=T.peek=(S=1)=>e[T.index+S],tt=T.advance=()=>e[++T.index]||"",K=()=>e.slice(T.index+1),et=(S="",H=0)=>{T.consumed+=S,T.index+=H},Zt=S=>{T.output+=S.output!=null?S.output:S.value,et(S.value)},Se=()=>{let S=1;for(;k()==="!"&&(k(2)!=="("||k(3)==="?");)tt(),T.start++,S++;return S%2===0?!1:(T.negated=!0,T.start++,!0)},jt=S=>{T[S]++,j.push(S)},St=S=>{T[S]--,j.pop()},h=S=>{if(x.type==="globstar"){let H=T.braces>0&&(S.type==="comma"||S.type==="brace"),F=S.extglob===!0||I.length&&(S.type==="pipe"||S.type==="paren");S.type!=="slash"&&S.type!=="paren"&&!H&&!F&&(T.output=T.output.slice(0,-x.output.length),x.type="star",x.value="*",x.output=A,T.output+=x.output)}if(I.length&&S.type!=="paren"&&(I[I.length-1].inner+=S.value),(S.value||S.output)&&Zt(S),x&&x.type==="text"&&S.type==="text"){x.value+=S.value,x.output=(x.output||"")+S.value;return}S.prev=x,s.push(S),x=S},f=(S,H)=>{let F={...g[H],conditions:1,inner:""};F.prev=x,F.parens=T.parens,F.output=T.output;let B=(r.capture?"(":"")+F.open;jt("parens"),h({type:S,value:H,output:T.output?"":d}),h({type:"paren",extglob:!0,value:tt(),output:B}),I.push(F)},M=S=>{let H=S.close+(r.capture?")":""),F;if(S.type==="negate"){let B=A;S.inner&&S.inner.length>1&&S.inner.includes("/")&&(B=O(r)),(B!==A||U()||/^\)+$/.test(K()))&&(H=S.close=`)$))${B}`),S.inner.includes("*")&&(F=K())&&/^\.[^\\/.]+$/.test(F)&&(H=S.close=`)${F})${B})`),S.prev.type==="bos"&&(T.negatedExtglob=!0)}h({type:"paren",extglob:!0,value:D,output:H}),St("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let S=!1,H=e.replace(hf,(F,B,X,V,G,J)=>V==="\\"?(S=!0,F):V==="?"?B?B+V+(G?E.repeat(G.length):""):J===0?N+(G?E.repeat(G.length):""):E.repeat(X.length):V==="."?b.repeat(X.length):V==="*"?B?B+V+(G?A:""):A:B?F:`\\${F}`);return S===!0&&(r.unescape===!0?H=H.replace(/\\/g,""):H=H.replace(/\\+/g,F=>F.length%2===0?"\\\\":F?"\\":"")),H===e&&r.contains===!0?(T.output=e,T):(T.output=lt.wrapOutput(H,T,t),T)}for(;!U();){if(D=tt(),D==="\0")continue;if(D==="\\"){let F=k();if(F==="/"&&r.bash!==!0||F==="."||F===";")continue;if(!F){D+="\\",h({type:"text",value:D});continue}let B=/^\\+/.exec(K()),X=0;if(B&&B[0].length>2&&(X=B[0].length,T.index+=X,X%2!==0&&(D+="\\")),r.unescape===!0?D=tt():D+=tt(),T.brackets===0){h({type:"text",value:D});continue}}if(T.brackets>0&&(D!=="]"||x.value==="["||x.value==="[^")){if(r.posix!==!1&&D===":"){let F=x.value.slice(1);if(F.includes("[")&&(x.posix=!0,F.includes(":"))){let B=x.value.lastIndexOf("["),X=x.value.slice(0,B),V=x.value.slice(B+2),G=ff[V];if(G){x.value=X+G,T.backtrack=!0,tt(),!o.output&&s.indexOf(x)===1&&(o.output=d);continue}}}(D==="["&&k()!==":"||D==="-"&&k()==="]")&&(D=`\\${D}`),D==="]"&&(x.value==="["||x.value==="[^")&&(D=`\\${D}`),r.posix===!0&&D==="!"&&x.value==="["&&(D="^"),x.value+=D,Zt({value:D});continue}if(T.quotes===1&&D!=='"'){D=lt.escapeRegex(D),x.value+=D,Zt({value:D});continue}if(D==='"'){T.quotes=T.quotes===1?0:1,r.keepQuotes===!0&&h({type:"text",value:D});continue}if(D==="("){jt("parens"),h({type:"paren",value:D});continue}if(D===")"){if(T.parens===0&&r.strictBrackets===!0)throw new SyntaxError(re("opening","("));let F=I[I.length-1];if(F&&T.parens===F.parens+1){M(I.pop());continue}h({type:"paren",value:D,output:T.parens?")":"\\)"}),St("parens");continue}if(D==="["){if(r.nobracket===!0||!K().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(re("closing","]"));D=`\\${D}`}else jt("brackets");h({type:"bracket",value:D});continue}if(D==="]"){if(r.nobracket===!0||x&&x.type==="bracket"&&x.value.length===1){h({type:"text",value:D,output:`\\${D}`});continue}if(T.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(re("opening","["));h({type:"text",value:D,output:`\\${D}`});continue}St("brackets");let F=x.value.slice(1);if(x.posix!==!0&&F[0]==="^"&&!F.includes("/")&&(D=`/${D}`),x.value+=D,Zt({value:D}),r.literalBrackets===!1||lt.hasRegexChars(F))continue;let B=lt.escapeRegex(x.value);if(T.output=T.output.slice(0,-x.value.length),r.literalBrackets===!0){T.output+=B,x.value=B;continue}x.value=`(${a}${B}|${x.value})`,T.output+=x.value;continue}if(D==="{"&&r.nobrace!==!0){jt("braces");let F={type:"brace",value:D,output:"(",outputIndex:T.output.length,tokensIndex:T.tokens.length};q.push(F),h(F);continue}if(D==="}"){let F=q[q.length-1];if(r.nobrace===!0||!F){h({type:"text",value:D,output:D});continue}let B=")";if(F.dots===!0){let X=s.slice(),V=[];for(let G=X.length-1;G>=0&&(s.pop(),X[G].type!=="brace");G--)X[G].type!=="dots"&&V.unshift(X[G].value);B=df(V,r),T.backtrack=!0}if(F.comma!==!0&&F.dots!==!0){let X=T.output.slice(0,F.outputIndex),V=T.tokens.slice(F.tokensIndex);F.value=F.output="\\{",D=B="\\}",T.output=X;for(let G of V)T.output+=G.output||G.value}h({type:"brace",value:D,output:B}),St("braces"),q.pop();continue}if(D==="|"){I.length>0&&I[I.length-1].conditions++,h({type:"text",value:D});continue}if(D===","){let F=D,B=q[q.length-1];B&&j[j.length-1]==="braces"&&(B.comma=!0,F="|"),h({type:"comma",value:D,output:F});continue}if(D==="/"){if(x.type==="dot"&&T.index===T.start+1){T.start=T.index+1,T.consumed="",T.output="",s.pop(),x=o;continue}h({type:"slash",value:D,output:m});continue}if(D==="."){if(T.braces>0&&x.type==="dot"){x.value==="."&&(x.output=b);let F=q[q.length-1];x.type="dots",x.output+=D,x.value+=D,F.dots=!0;continue}if(T.braces+T.parens===0&&x.type!=="bos"&&x.type!=="slash"){h({type:"text",value:D,output:b});continue}h({type:"dot",value:D,output:b});continue}if(D==="?"){if(!(x&&x.value==="(")&&r.noextglob!==!0&&k()==="("&&k(2)!=="?"){f("qmark",D);continue}if(x&&x.type==="paren"){let B=k(),X=D;if(B==="<"&&!lt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(x.value==="("&&!/[!=<:]/.test(B)||B==="<"&&!/<([!=]|\w+>)/.test(K()))&&(X=`\\${D}`),h({type:"text",value:D,output:X});continue}if(r.dot!==!0&&(x.type==="slash"||x.type==="bos")){h({type:"qmark",value:D,output:p});continue}h({type:"qmark",value:D,output:E});continue}if(D==="!"){if(r.noextglob!==!0&&k()==="("&&(k(2)!=="?"||!/[!=<:]/.test(k(3)))){f("negate",D);continue}if(r.nonegate!==!0&&T.index===0){Se();continue}}if(D==="+"){if(r.noextglob!==!0&&k()==="("&&k(2)!=="?"){f("plus",D);continue}if(x&&x.value==="("||r.regex===!1){h({type:"plus",value:D,output:c});continue}if(x&&(x.type==="bracket"||x.type==="paren"||x.type==="brace")||T.parens>0){h({type:"plus",value:D});continue}h({type:"plus",value:c});continue}if(D==="@"){if(r.noextglob!==!0&&k()==="("&&k(2)!=="?"){h({type:"at",extglob:!0,value:D,output:""});continue}h({type:"text",value:D});continue}if(D!=="*"){(D==="$"||D==="^")&&(D=`\\${D}`);let F=pf.exec(K());F&&(D+=F[0],T.index+=F[0].length),h({type:"text",value:D});continue}if(x&&(x.type==="globstar"||x.star===!0)){x.type="star",x.star=!0,x.value+=D,x.output=A,T.backtrack=!0,T.globstar=!0,et(D);continue}let S=K();if(r.noextglob!==!0&&/^\([^?]/.test(S)){f("star",D);continue}if(x.type==="star"){if(r.noglobstar===!0){et(D);continue}let F=x.prev,B=F.prev,X=F.type==="slash"||F.type==="bos",V=B&&(B.type==="star"||B.type==="globstar");if(r.bash===!0&&(!X||S[0]&&S[0]!=="/")){h({type:"star",value:D,output:""});continue}let G=T.braces>0&&(F.type==="comma"||F.type==="brace"),J=I.length&&(F.type==="pipe"||F.type==="paren");if(!X&&F.type!=="paren"&&!G&&!J){h({type:"star",value:D,output:""});continue}for(;S.slice(0,3)==="/**";){let at=e[T.index+4];if(at&&at!=="/")break;S=S.slice(3),et("/**",3)}if(F.type==="bos"&&U()){x.type="globstar",x.value+=D,x.output=O(r),T.output=x.output,T.globstar=!0,et(D);continue}if(F.type==="slash"&&F.prev.type!=="bos"&&!V&&U()){T.output=T.output.slice(0,-(F.output+x.output).length),F.output=`(?:${F.output}`,x.type="globstar",x.output=O(r)+(r.strictSlashes?")":"|$)"),x.value+=D,T.globstar=!0,T.output+=F.output+x.output,et(D);continue}if(F.type==="slash"&&F.prev.type!=="bos"&&S[0]==="/"){let at=S[1]!==void 0?"|$":"";T.output=T.output.slice(0,-(F.output+x.output).length),F.output=`(?:${F.output}`,x.type="globstar",x.output=`${O(r)}${m}|${m}${at})`,x.value+=D,T.output+=F.output+x.output,T.globstar=!0,et(D+tt()),h({type:"slash",value:"/",output:""});continue}if(F.type==="bos"&&S[0]==="/"){x.type="globstar",x.value+=D,x.output=`(?:^|${m}|${O(r)}${m})`,T.output=x.output,T.globstar=!0,et(D+tt()),h({type:"slash",value:"/",output:""});continue}T.output=T.output.slice(0,-x.output.length),x.type="globstar",x.output=O(r),x.value+=D,T.output+=x.output,T.globstar=!0,et(D);continue}let H={type:"star",value:D,output:A};if(r.bash===!0){H.output=".*?",(x.type==="bos"||x.type==="slash")&&(H.output=_+H.output),h(H);continue}if(x&&(x.type==="bracket"||x.type==="paren")&&r.regex===!0){H.output=D,h(H);continue}(T.index===T.start||x.type==="slash"||x.type==="dot")&&(x.type==="dot"?(T.output+=P,x.output+=P):r.dot===!0?(T.output+=R,x.output+=R):(T.output+=_,x.output+=_),k()!=="*"&&(T.output+=d,x.output+=d)),h(H)}for(;T.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(re("closing","]"));T.output=lt.escapeLast(T.output,"["),St("brackets")}for(;T.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(re("closing",")"));T.output=lt.escapeLast(T.output,"("),St("parens")}for(;T.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(re("closing","}"));T.output=lt.escapeLast(T.output,"{"),St("braces")}if(r.strictSlashes!==!0&&(x.type==="star"||x.type==="bracket")&&h({type:"maybe_slash",value:"",output:`${m}?`}),T.backtrack===!0){T.output="";for(let S of T.tokens)T.output+=S.output!=null?S.output:S.value,S.suffix&&(T.output+=S.suffix)}return T};Bs.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(Le,r.maxLength):Le,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=ks[e]||e;let o=lt.isWindows(t),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:y,NO_DOT:g,NO_DOTS:b,NO_DOTS_SLASH:c,STAR:m,START_ANCHOR:d}=Ie.globChars(o),v=r.dot?b:g,C=r.dot?c:g,P=r.capture?"":"?:",R={negated:!1,prefix:""},E=r.bash===!0?".*?":m;r.capture&&(E=`(${E})`);let p=_=>_.noglobstar===!0?E:`(${P}(?:(?!${d}${_.dot?y:s}).)*?)`,u=_=>{switch(_){case"*":return`${v}${l}${E}`;case".*":return`${s}${l}${E}`;case"*.*":return`${v}${E}${s}${l}${E}`;case"*/*":return`${v}${E}${a}${l}${C}${E}`;case"**":return v+p(r);case"**/*":return`(?:${v}${p(r)}${a})?${C}${l}${E}`;case"**/*.*":return`(?:${v}${p(r)}${a})?${C}${E}${s}${l}${E}`;case"**/.*":return`(?:${v}${p(r)}${a})?${s}${l}${E}`;default:{let N=/^(.*?)\.(\w+)$/.exec(_);if(!N)return;let A=u(N[1]);return A?A+s+N[2]:void 0}}},w=lt.removePrefix(e,R),O=u(w);return O&&r.strictSlashes!==!0&&(O+=`${a}?`),O};Hs.exports=Bs});var Xs=L((kd,$s)=>{"use strict";var yf=require("path"),mf=qs(),Br=js(),Hr=me(),gf=ye(),_f=e=>e&&typeof e=="object"&&!Array.isArray(e),z=(e,t,r=!1)=>{if(Array.isArray(e)){let g=e.map(c=>z(c,t,r));return c=>{for(let m of g){let d=m(c);if(d)return d}return!1}}let n=_f(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},o=Hr.isWindows(t),s=n?z.compileRe(e,t):z.makeRe(e,t,!1,!0),a=s.state;delete s.state;let l=()=>!1;if(i.ignore){let g={...t,ignore:null,onMatch:null,onResult:null};l=z(i.ignore,g,r)}let y=(g,b=!1)=>{let{isMatch:c,match:m,output:d}=z.test(g,s,t,{glob:e,posix:o}),v={glob:e,state:a,regex:s,posix:o,input:g,output:d,match:m,isMatch:c};return typeof i.onResult=="function"&&i.onResult(v),c===!1?(v.isMatch=!1,b?v:!1):l(g)?(typeof i.onIgnore=="function"&&i.onIgnore(v),v.isMatch=!1,b?v:!1):(typeof i.onMatch=="function"&&i.onMatch(v),b?v:!0)};return r&&(y.state=a),y};z.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=r||{},s=o.format||(i?Hr.toPosixSlashes:null),a=e===n,l=a&&s?s(e):e;return a===!1&&(l=s?s(e):e,a=l===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=z.matchBase(e,t,r,i):a=t.exec(l)),{isMatch:Boolean(a),match:a,output:l}};z.matchBase=(e,t,r,n=Hr.isWindows(r))=>(t instanceof RegExp?t:z.makeRe(t,r)).test(yf.basename(e));z.isMatch=(e,t,r)=>z(t,r)(e);z.parse=(e,t)=>Array.isArray(e)?e.map(r=>z.parse(r,t)):Br(e,{...t,fastpaths:!1});z.scan=(e,t)=>mf(e,t);z.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},o=i.contains?"":"^",s=i.contains?"":"$",a=`${o}(?:${e.output})${s}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let l=z.toRegex(a,t);return n===!0&&(l.state=e),l};z.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Br.fastpaths(e,t)),i.output||(i=Br(e,t)),z.compileRe(i,t,r,n)};z.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};z.constants=gf;$s.exports=z});var Vs=L((Bd,Us)=>{"use strict";Us.exports=Xs()});var Qs=L((Hd,Ks)=>{"use strict";var Ws=require("util"),Ys=Ss(),Et=Vs(),jr=me(),Gs=e=>e===""||e==="./",Y=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,o=new Set,s=0,a=g=>{o.add(g.output),r&&r.onResult&&r.onResult(g)};for(let g=0;g<t.length;g++){let b=Et(String(t[g]),{...r,onResult:a},!0),c=b.state.negated||b.state.negatedExtglob;c&&s++;for(let m of e){let d=b(m,!0);!(c?!d.isMatch:d.isMatch)||(c?n.add(d.output):(n.delete(d.output),i.add(d.output)))}}let y=(s===t.length?[...o]:[...i]).filter(g=>!n.has(g));if(r&&y.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(g=>g.replace(/\\/g,"")):t}return y};Y.match=Y;Y.matcher=(e,t)=>Et(e,t);Y.isMatch=(e,t,r)=>Et(t,r)(e);Y.any=Y.isMatch;Y.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],s=Y(e,t,{...r,onResult:a=>{r.onResult&&r.onResult(a),i.push(a.output)}});for(let a of i)s.includes(a)||n.add(a);return[...n]};Y.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Ws.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>Y.contains(e,n,r));if(typeof t=="string"){if(Gs(e)||Gs(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Y.isMatch(e,t,{...r,contains:!0})};Y.matchKeys=(e,t,r)=>{if(!jr.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=Y(Object.keys(e),t,r),i={};for(let o of n)i[o]=e[o];return i};Y.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Et(String(i),r);if(n.some(s=>o(s)))return!0}return!1};Y.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Et(String(i),r);if(!n.every(s=>o(s)))return!1}return!0};Y.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Ws.inspect(e)}"`);return[].concat(t).every(n=>Et(n,r)(e))};Y.capture=(e,t,r)=>{let n=jr.isWindows(r),o=Et.makeRe(String(e),{...r,capture:!0}).exec(n?jr.toPosixSlashes(t):t);if(o)return o.slice(1).map(s=>s===void 0?"":s)};Y.makeRe=(...e)=>Et.makeRe(...e);Y.scan=(...e)=>Et.scan(...e);Y.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of Ys(String(n),t))r.push(Et.parse(i,t));return r};Y.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:Ys(e,t)};Y.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Y.braces(e,{...t,expand:!0})};Ks.exports=Y});var io=L($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.matchAny=$.convertPatternsToRe=$.makeRe=$.getPatternParts=$.expandBraceExpansion=$.expandPatternsWithBraceExpansion=$.isAffectDepthOfReadingPattern=$.endsWithSlashGlobStar=$.hasGlobStar=$.getBaseDirectory=$.isPatternRelatedToParentDirectory=$.getPatternsOutsideCurrentDirectory=$.getPatternsInsideCurrentDirectory=$.getPositivePatterns=$.getNegativePatterns=$.isPositivePattern=$.isNegativePattern=$.convertToNegativePattern=$.convertToPositivePattern=$.isDynamicPattern=$.isStaticPattern=void 0;var Ef=require("path"),bf=ji(),$r=Qs(),Js="**",wf="\\",Tf=/[*?]|^!/,Af=/\[[^[]*]/,Sf=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,vf=/[!*+?@]\([^(]*\)/,Of=/,|\.\./;function zs(e,t={}){return!Zs(e,t)}$.isStaticPattern=zs;function Zs(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(wf)||Tf.test(e)||Af.test(e)||Sf.test(e)||t.extglob!==!1&&vf.test(e)||t.braceExpansion!==!1&&Pf(e))}$.isDynamicPattern=Zs;function Pf(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return Of.test(n)}function Df(e){return Re(e)?e.slice(1):e}$.convertToPositivePattern=Df;function Nf(e){return"!"+e}$.convertToNegativePattern=Nf;function Re(e){return e.startsWith("!")&&e[1]!=="("}$.isNegativePattern=Re;function to(e){return!Re(e)}$.isPositivePattern=to;function xf(e){return e.filter(Re)}$.getNegativePatterns=xf;function Cf(e){return e.filter(to)}$.getPositivePatterns=Cf;function If(e){return e.filter(t=>!Xr(t))}$.getPatternsInsideCurrentDirectory=If;function Lf(e){return e.filter(Xr)}$.getPatternsOutsideCurrentDirectory=Lf;function Xr(e){return e.startsWith("..")||e.startsWith("./..")}$.isPatternRelatedToParentDirectory=Xr;function Rf(e){return bf(e,{flipBackslashes:!1})}$.getBaseDirectory=Rf;function Mf(e){return e.includes(Js)}$.hasGlobStar=Mf;function eo(e){return e.endsWith("/"+Js)}$.endsWithSlashGlobStar=eo;function Ff(e){let t=Ef.basename(e);return eo(e)||zs(t)}$.isAffectDepthOfReadingPattern=Ff;function qf(e){return e.reduce((t,r)=>t.concat(ro(r)),[])}$.expandPatternsWithBraceExpansion=qf;function ro(e){return $r.braces(e,{expand:!0,nodupes:!0})}$.expandBraceExpansion=ro;function kf(e,t){let{parts:r}=$r.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}$.getPatternParts=kf;function no(e,t){return $r.makeRe(e,t)}$.makeRe=no;function Bf(e,t){return e.map(r=>no(r,t))}$.convertPatternsToRe=Bf;function Hf(e,t){return t.some(r=>r.test(e))}$.matchAny=Hf});var uo=L(($d,ao)=>{"use strict";var jf=require("stream"),so=jf.PassThrough,$f=Array.prototype.slice;ao.exports=Xf;function Xf(){let e=[],t=$f.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,o=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let s=so(n);function a(){for(let g=0,b=arguments.length;g<b;g++)e.push(oo(arguments[g],n));return l(),this}function l(){if(r)return;r=!0;let g=e.shift();if(!g){process.nextTick(y);return}Array.isArray(g)||(g=[g]);let b=g.length+1;function c(){--b>0||(r=!1,l())}function m(d){function v(){d.removeListener("merge2UnpipeEnd",v),d.removeListener("end",v),o&&d.removeListener("error",C),c()}function C(P){s.emit("error",P)}if(d._readableState.endEmitted)return c();d.on("merge2UnpipeEnd",v),d.on("end",v),o&&d.on("error",C),d.pipe(s,{end:!1}),d.resume()}for(let d=0;d<g.length;d++)m(g[d]);c()}function y(){r=!1,s.emit("queueDrain"),i&&s.end()}return s.setMaxListeners(0),s.add=a,s.on("unpipe",function(g){g.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),s}function oo(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=oo(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(so(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var lo=L(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.merge=void 0;var Uf=uo();function Vf(e){let t=Uf(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>co(e)),t.once("end",()=>co(e)),t}Me.merge=Vf;function co(e){e.forEach(t=>t.emit("close"))}});var fo=L(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.isEmpty=ne.isString=void 0;function Gf(e){return typeof e=="string"}ne.isString=Gf;function Wf(e){return e===""}ne.isEmpty=Wf});var Ot=L(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.string=it.stream=it.pattern=it.path=it.fs=it.errno=it.array=void 0;var Yf=Ci();it.array=Yf;var Kf=Ii();it.errno=Kf;var Qf=Li();it.fs=Qf;var Jf=Ri();it.path=Jf;var zf=io();it.pattern=zf;var Zf=lo();it.stream=Zf;var tp=fo();it.string=tp});var yo=L(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.convertPatternGroupToTask=st.convertPatternGroupsToTasks=st.groupPatternsByBaseDirectory=st.getNegativePatternsAsPositive=st.getPositivePatterns=st.convertPatternsToTasks=st.generate=void 0;var Pt=Ot();function ep(e,t){let r=po(e),n=ho(e,t.ignore),i=r.filter(l=>Pt.pattern.isStaticPattern(l,t)),o=r.filter(l=>Pt.pattern.isDynamicPattern(l,t)),s=Ur(i,n,!1),a=Ur(o,n,!0);return s.concat(a)}st.generate=ep;function Ur(e,t,r){let n=[],i=Pt.pattern.getPatternsOutsideCurrentDirectory(e),o=Pt.pattern.getPatternsInsideCurrentDirectory(e),s=Vr(i),a=Vr(o);return n.push(...Gr(s,t,r)),"."in a?n.push(Wr(".",o,t,r)):n.push(...Gr(a,t,r)),n}st.convertPatternsToTasks=Ur;function po(e){return Pt.pattern.getPositivePatterns(e)}st.getPositivePatterns=po;function ho(e,t){return Pt.pattern.getNegativePatterns(e).concat(t).map(Pt.pattern.convertToPositivePattern)}st.getNegativePatternsAsPositive=ho;function Vr(e){let t={};return e.reduce((r,n)=>{let i=Pt.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}st.groupPatternsByBaseDirectory=Vr;function Gr(e,t,r){return Object.keys(e).map(n=>Wr(n,e[n],t,r))}st.convertPatternGroupsToTasks=Gr;function Wr(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(Pt.pattern.convertToNegativePattern))}}st.convertPatternGroupToTask=Wr});var go=L(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.removeDuplicateSlashes=ie.transform=void 0;var rp=/(?!^)\/{2,}/g;function np(e){return e.map(t=>mo(t))}ie.transform=np;function mo(e){return e.replace(rp,"/")}ie.removeDuplicateSlashes=mo});var Eo=L(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.read=void 0;function ip(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){_o(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){Yr(r,i);return}t.fs.stat(e,(o,s)=>{if(o!==null){if(t.throwErrorOnBrokenSymbolicLink){_o(r,o);return}Yr(r,i);return}t.markSymbolicLink&&(s.isSymbolicLink=()=>!0),Yr(r,s)})})}Fe.read=ip;function _o(e,t){e(t)}function Yr(e,t){e(null,t)}});var bo=L(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.read=void 0;function sp(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}qe.read=sp});var wo=L(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.createFileSystemAdapter=Ct.FILE_SYSTEM_ADAPTER=void 0;var ke=require("fs");Ct.FILE_SYSTEM_ADAPTER={lstat:ke.lstat,stat:ke.stat,lstatSync:ke.lstatSync,statSync:ke.statSync};function op(e){return e===void 0?Ct.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Ct.FILE_SYSTEM_ADAPTER),e)}Ct.createFileSystemAdapter=op});var To=L(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});var ap=wo(),Kr=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=ap.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};Qr.default=Kr});var Ut=L(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.statSync=It.stat=It.Settings=void 0;var Ao=Eo(),up=bo(),Jr=To();It.Settings=Jr.default;function cp(e,t,r){if(typeof t=="function"){Ao.read(e,zr(),t);return}Ao.read(e,zr(t),r)}It.stat=cp;function lp(e,t){let r=zr(t);return up.read(e,r)}It.statSync=lp;function zr(e={}){return e instanceof Jr.default?e:new Jr.default(e)}});var Oo=L((Zd,vo)=>{var So;vo.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(So||(So=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var Do=L((ty,Po)=>{Po.exports=pp;var fp=Oo();function pp(e,t){let r,n,i,o=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function s(l){function y(){t&&t(l,r),t=null}o?fp(y):y()}function a(l,y,g){r[l]=g,(--n===0||y)&&s(y)}n?i?i.forEach(function(l){e[l](function(y,g){a(l,y,g)})}):e.forEach(function(l,y){l(function(g,b){a(y,g,b)})}):s(null),o=!1}});var Zr=L(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Be=process.versions.node.split(".");if(Be[0]===void 0||Be[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var No=Number.parseInt(Be[0],10),hp=Number.parseInt(Be[1],10),xo=10,dp=10,yp=No>xo,mp=No===xo&&hp>=dp;He.IS_SUPPORT_READDIR_WITH_FILE_TYPES=yp||mp});var Co=L(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.createDirentFromStats=void 0;var tn=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function gp(e,t){return new tn(e,t)}je.createDirentFromStats=gp});var en=L($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.fs=void 0;var _p=Co();$e.fs=_p});var rn=L(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.joinPathSegments=void 0;function Ep(e,t,r){return e.endsWith(r)?e+t:e+r+t}Xe.joinPathSegments=Ep});var qo=L(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.readdir=Lt.readdirWithFileTypes=Lt.read=void 0;var bp=Ut(),Io=Do(),wp=Zr(),Lo=en(),Ro=rn();function Tp(e,t,r){if(!t.stats&&wp.IS_SUPPORT_READDIR_WITH_FILE_TYPES){Mo(e,t,r);return}Fo(e,t,r)}Lt.read=Tp;function Mo(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){Ue(r,n);return}let o=i.map(a=>({dirent:a,name:a.name,path:Ro.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){nn(r,o);return}let s=o.map(a=>Ap(a,t));Io(s,(a,l)=>{if(a!==null){Ue(r,a);return}nn(r,l)})})}Lt.readdirWithFileTypes=Mo;function Ap(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=Lo.fs.createDirentFromStats(e.name,i),r(null,e)})}}function Fo(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){Ue(r,n);return}let o=i.map(s=>{let a=Ro.joinPathSegments(e,s,t.pathSegmentSeparator);return l=>{bp.stat(a,t.fsStatSettings,(y,g)=>{if(y!==null){l(y);return}let b={name:s,path:a,dirent:Lo.fs.createDirentFromStats(s,g)};t.stats&&(b.stats=g),l(null,b)})}});Io(o,(s,a)=>{if(s!==null){Ue(r,s);return}nn(r,a)})})}Lt.readdir=Fo;function Ue(e,t){e(t)}function nn(e,t){e(null,t)}});var $o=L(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.readdir=Rt.readdirWithFileTypes=Rt.read=void 0;var Sp=Ut(),vp=Zr(),ko=en(),Bo=rn();function Op(e,t){return!t.stats&&vp.IS_SUPPORT_READDIR_WITH_FILE_TYPES?Ho(e,t):jo(e,t)}Rt.read=Op;function Ho(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:Bo.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let o=t.fs.statSync(i.path);i.dirent=ko.fs.createDirentFromStats(i.name,o)}catch(o){if(t.throwErrorOnBrokenSymbolicLink)throw o}return i})}Rt.readdirWithFileTypes=Ho;function jo(e,t){return t.fs.readdirSync(e).map(n=>{let i=Bo.joinPathSegments(e,n,t.pathSegmentSeparator),o=Sp.statSync(i,t.fsStatSettings),s={name:n,path:i,dirent:ko.fs.createDirentFromStats(n,o)};return t.stats&&(s.stats=o),s})}Rt.readdir=jo});var Xo=L(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.createFileSystemAdapter=Mt.FILE_SYSTEM_ADAPTER=void 0;var se=require("fs");Mt.FILE_SYSTEM_ADAPTER={lstat:se.lstat,stat:se.stat,lstatSync:se.lstatSync,statSync:se.statSync,readdir:se.readdir,readdirSync:se.readdirSync};function Pp(e){return e===void 0?Mt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Mt.FILE_SYSTEM_ADAPTER),e)}Mt.createFileSystemAdapter=Pp});var Uo=L(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});var Dp=require("path"),Np=Ut(),xp=Xo(),sn=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=xp.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Dp.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Np.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};on.default=sn});var Ve=L(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.Settings=Ft.scandirSync=Ft.scandir=void 0;var Vo=qo(),Cp=$o(),an=Uo();Ft.Settings=an.default;function Ip(e,t,r){if(typeof t=="function"){Vo.read(e,un(),t);return}Vo.read(e,un(t),r)}Ft.scandir=Ip;function Lp(e,t){let r=un(t);return Cp.read(e,r)}Ft.scandirSync=Lp;function un(e={}){return e instanceof an.default?e:new an.default(e)}});var Wo=L((ly,Go)=>{"use strict";function Rp(e){var t=new e,r=t;function n(){var o=t;return o.next?t=o.next:(t=new e,r=t),o.next=null,o}function i(o){r.next=o,r=o}return{get:n,release:i}}Go.exports=Rp});var Ko=L((fy,cn)=>{"use strict";var Mp=Wo();function Yo(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=Mp(Fp),i=null,o=null,s=0,a=null,l={push:v,drain:dt,saturated:dt,pause:g,paused:!1,concurrency:r,running:y,resume:m,idle:d,length:b,getQueue:c,unshift:C,empty:dt,kill:R,killAndDrain:E,error:p};return l;function y(){return s}function g(){l.paused=!0}function b(){for(var u=i,w=0;u;)u=u.next,w++;return w}function c(){for(var u=i,w=[];u;)w.push(u.value),u=u.next;return w}function m(){if(!!l.paused){l.paused=!1;for(var u=0;u<l.concurrency;u++)s++,P()}}function d(){return s===0&&l.length()===0}function v(u,w){var O=n.get();O.context=e,O.release=P,O.value=u,O.callback=w||dt,O.errorHandler=a,s===l.concurrency||l.paused?o?(o.next=O,o=O):(i=O,o=O,l.saturated()):(s++,t.call(e,O.value,O.worked))}function C(u,w){var O=n.get();O.context=e,O.release=P,O.value=u,O.callback=w||dt,s===l.concurrency||l.paused?i?(O.next=i,i=O):(i=O,o=O,l.saturated()):(s++,t.call(e,O.value,O.worked))}function P(u){u&&n.release(u);var w=i;w?l.paused?s--:(o===i&&(o=null),i=w.next,w.next=null,t.call(e,w.value,w.worked),o===null&&l.empty()):--s===0&&l.drain()}function R(){i=null,o=null,l.drain=dt}function E(){i=null,o=null,l.drain(),l.drain=dt}function p(u){a=u}}function dt(){}function Fp(){this.value=null,this.callback=dt,this.next=null,this.release=dt,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,o=e.errorHandler,s=e.value;e.value=null,e.callback=dt,e.errorHandler&&o(r,s),i.call(e.context,r,n),e.release(e)}}function qp(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(g,b){t.call(this,g).then(function(c){b(null,c)},b)}var i=Yo(e,n,r),o=i.push,s=i.unshift;return i.push=a,i.unshift=l,i.drained=y,i;function a(g){var b=new Promise(function(c,m){o(g,function(d,v){if(d){m(d);return}c(v)})});return b.catch(dt),b}function l(g){var b=new Promise(function(c,m){s(g,function(d,v){if(d){m(d);return}c(v)})});return b.catch(dt),b}function y(){var g=i.drain,b=new Promise(function(c){i.drain=function(){g(),c()}});return b}}cn.exports=Yo;cn.exports.promise=qp});var Ge=L(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.joinPathSegments=bt.replacePathSegmentSeparator=bt.isAppliedFilter=bt.isFatalError=void 0;function kp(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}bt.isFatalError=kp;function Bp(e,t){return e===null||e(t)}bt.isAppliedFilter=Bp;function Hp(e,t){return e.split(/[/\\]/).join(t)}bt.replacePathSegmentSeparator=Hp;function jp(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}bt.joinPathSegments=jp});var pn=L(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});var $p=Ge(),ln=class{constructor(t,r){this._root=t,this._settings=r,this._root=$p.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};fn.default=ln});var yn=L(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});var Xp=require("events"),Up=Ve(),Vp=Ko(),We=Ge(),Gp=pn(),hn=class extends Gp.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=Up.scandir,this._emitter=new Xp.EventEmitter,this._queue=Vp(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let o of i)this._handleEntry(o,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!We.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=We.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),We.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&We.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};dn.default=hn});var Qo=L(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});var Wp=yn(),mn=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new Wp.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{Yp(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{Kp(t,this._storage)}),this._reader.read()}};gn.default=mn;function Yp(e,t){e(t)}function Kp(e,t){e(null,t)}});var Jo=L(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});var Qp=require("stream"),Jp=yn(),_n=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new Jp.default(this._root,this._settings),this._stream=new Qp.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};En.default=_n});var zo=L(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});var zp=Ve(),Ye=Ge(),Zp=pn(),bn=class extends Zp.default{constructor(){super(...arguments),this._scandir=zp.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(!!Ye.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=Ye.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Ye.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&Ye.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};wn.default=bn});var Zo=L(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});var th=zo(),Tn=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new th.default(this._root,this._settings)}read(){return this._reader.read()}};An.default=Tn});var ta=L(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});var eh=require("path"),rh=Ve(),Sn=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,eh.sep),this.fsScandirSettings=new rh.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};vn.default=Sn});var Qe=L(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.Settings=wt.walkStream=wt.walkSync=wt.walk=void 0;var ea=Qo(),nh=Jo(),ih=Zo(),On=ta();wt.Settings=On.default;function sh(e,t,r){if(typeof t=="function"){new ea.default(e,Ke()).read(t);return}new ea.default(e,Ke(t)).read(r)}wt.walk=sh;function oh(e,t){let r=Ke(t);return new ih.default(e,r).read()}wt.walkSync=oh;function ah(e,t){let r=Ke(t);return new nh.default(e,r).read()}wt.walkStream=ah;function Ke(e={}){return e instanceof On.default?e:new On.default(e)}});var Je=L(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});var uh=require("path"),ch=Ut(),ra=Ot(),Pn=class{constructor(t){this._settings=t,this._fsStatSettings=new ch.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return uh.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:ra.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!ra.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Dn.default=Pn});var Cn=L(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var lh=require("stream"),fh=Ut(),ph=Qe(),hh=Je(),Nn=class extends hh.default{constructor(){super(...arguments),this._walkStream=ph.walkStream,this._stat=fh.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new lh.PassThrough({objectMode:!0});i._write=(o,s,a)=>this._getEntry(n[o],t[o],r).then(l=>{l!==null&&r.entryFilter(l)&&i.push(l),o===n.length-1&&i.end(),a()}).catch(a);for(let o=0;o<n.length;o++)i.write(o);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,o)=>i===null?r(o):n(i))})}};xn.default=Nn});var na=L(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});var dh=Qe(),yh=Je(),mh=Cn(),In=class extends yh.default{constructor(){super(...arguments),this._walkAsync=dh.walk,this._readerStream=new mh.default(this._settings)}dynamic(t,r){return new Promise((n,i)=>{this._walkAsync(t,r,(o,s)=>{o===null?n(s):i(o)})})}async static(t,r){let n=[],i=this._readerStream.static(t,r);return new Promise((o,s)=>{i.once("error",s),i.on("data",a=>n.push(a)),i.once("end",()=>o(n))})}};Ln.default=In});var ia=L(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});var oe=Ot(),Rn=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=oe.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(t){return oe.pattern.getPatternParts(t,this._micromatchOptions).map(n=>oe.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:oe.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return oe.array.splitWhen(t,r=>r.dynamic&&oe.pattern.hasGlobStar(r.pattern))}};Mn.default=Rn});var sa=L(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});var gh=ia(),Fn=class extends gh.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(o=>!o.complete||o.segments.length>n);for(let o of i){let s=o.sections[0];if(!o.complete&&n>s.length||r.every((l,y)=>{let g=o.segments[y];return!!(g.dynamic&&g.patternRe.test(l)||!g.dynamic&&g.pattern===l)}))return!0}return!1}};qn.default=Fn});var oa=L(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});var ze=Ot(),_h=sa(),kn=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),o=this._getNegativePatternsRe(n);return s=>this._filter(t,s,i,o)}_getMatcher(t){return new _h.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(ze.pattern.isAffectDepthOfReadingPattern);return ze.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let o=ze.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(o,n)?!1:this._isSkippedByNegativePatterns(o,i)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!ze.pattern.matchAny(t,r)}};Bn.default=kn});var aa=L(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});var Vt=Ot(),Hn=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=Vt.pattern.convertPatternsToRe(t,this._micromatchOptions),i=Vt.pattern.convertPatternsToRe(r,this._micromatchOptions);return o=>this._filter(o,n,i)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let i=this._settings.baseNameMatch?t.name:t.path,o=t.dirent.isDirectory(),s=this._isMatchToPatterns(i,r,o)&&!this._isMatchToPatterns(t.path,n,o);return this._settings.unique&&s&&this._createIndexRecord(t),s}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=Vt.path.makeAbsolute(this._settings.cwd,t);return Vt.pattern.matchAny(n,r)}_isMatchToPatterns(t,r,n){let i=Vt.path.removeLeadingDotSegment(t),o=Vt.pattern.matchAny(i,r);return!o&&n?Vt.pattern.matchAny(i+"/",r):o}};jn.default=Hn});var ua=L(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});var Eh=Ot(),$n=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return Eh.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};Xn.default=$n});var la=L(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var ca=Ot(),Un=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=ca.path.makeAbsolute(this._settings.cwd,r),r=ca.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};Vn.default=Un});var Ze=L(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});var bh=require("path"),wh=oa(),Th=aa(),Ah=ua(),Sh=la(),Gn=class{constructor(t){this._settings=t,this.errorFilter=new Ah.default(this._settings),this.entryFilter=new Th.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new wh.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new Sh.default(this._settings)}_getRootDirectory(t){return bh.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Wn.default=Gn});var fa=L(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});var vh=na(),Oh=Ze(),Yn=class extends Oh.default{constructor(){super(...arguments),this._reader=new vh.default(this._settings)}async read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return(await this.api(r,t,n)).map(o=>n.transform(o))}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Kn.default=Yn});var pa=L(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});var Ph=require("stream"),Dh=Cn(),Nh=Ze(),Qn=class extends Nh.default{constructor(){super(...arguments),this._reader=new Dh.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),o=new Ph.Readable({objectMode:!0,read:()=>{}});return i.once("error",s=>o.emit("error",s)).on("data",s=>o.emit("data",n.transform(s))).once("end",()=>o.emit("end")),o.once("close",()=>i.destroy()),o}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Jn.default=Qn});var ha=L(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});var xh=Ut(),Ch=Qe(),Ih=Je(),zn=class extends Ih.default{constructor(){super(...arguments),this._walkSync=Ch.walkSync,this._statSync=xh.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let o=this._getFullEntryPath(i),s=this._getEntry(o,i,r);s===null||!r.entryFilter(s)||n.push(s)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};Zn.default=zn});var da=L(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var Lh=ha(),Rh=Ze(),ti=class extends Rh.default{constructor(){super(...arguments),this._reader=new Lh.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};ei.default=ti});var ya=L(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var ae=require("fs"),Mh=require("os"),Fh=Math.max(Mh.cpus().length,1);ue.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:ae.lstat,lstatSync:ae.lstatSync,stat:ae.stat,statSync:ae.statSync,readdir:ae.readdir,readdirSync:ae.readdirSync};var ri=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Fh),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},ue.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};ue.default=ri});var Ea=L((Fy,_a)=>{"use strict";var ma=yo(),ga=go(),qh=fa(),kh=pa(),Bh=da(),ni=ya(),Gt=Ot();async function ii(e,t){ce(e);let r=si(e,qh.default,t),n=await Promise.all(r);return Gt.array.flatten(n)}(function(e){function t(s,a){ce(s);let l=si(s,Bh.default,a);return Gt.array.flatten(l)}e.sync=t;function r(s,a){ce(s);let l=si(s,kh.default,a);return Gt.stream.merge(l)}e.stream=r;function n(s,a){ce(s);let l=ga.transform([].concat(s)),y=new ni.default(a);return ma.generate(l,y)}e.generateTasks=n;function i(s,a){ce(s);let l=new ni.default(a);return Gt.pattern.isDynamicPattern(s,l)}e.isDynamicPattern=i;function o(s){return ce(s),Gt.path.escape(s)}e.escapePath=o})(ii||(ii={}));function si(e,t,r){let n=ga.transform([].concat(e)),i=new ni.default(r),o=ma.generate(n,i),s=new t(i);return o.map(s.read,s)}function ce(e){if(![].concat(e).every(n=>Gt.string.isString(n)&&!Gt.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}_a.exports=ii});var tr=L(oi=>{(function(){oi.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(oi)});var Tt=L((ba,qt)=>{(function(){var e,t,r,n,i,o,s,a=[].slice,l={}.hasOwnProperty;e=function(){var y,g,b,c,m,d;if(d=arguments[0],m=2<=arguments.length?a.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(y=0,b=m.length;y<b;y++)if(c=m[y],c!=null)for(g in c)!l.call(c,g)||(d[g]=c[g]);return d},i=function(y){return!!y&&Object.prototype.toString.call(y)==="[object Function]"},o=function(y){var g;return!!y&&((g=typeof y)=="function"||g==="object")},r=function(y){return i(Array.isArray)?Array.isArray(y):Object.prototype.toString.call(y)==="[object Array]"},n=function(y){var g;if(r(y))return!y.length;for(g in y)if(!!l.call(y,g))return!1;return!0},s=function(y){var g,b;return o(y)&&(b=Object.getPrototypeOf(y))&&(g=b.constructor)&&typeof g=="function"&&g instanceof g&&Function.prototype.toString.call(g)===Function.prototype.toString.call(Object)},t=function(y){return i(y.valueOf)?y.valueOf():y},qt.exports.assign=e,qt.exports.isFunction=i,qt.exports.isObject=o,qt.exports.isArray=r,qt.exports.isEmpty=n,qt.exports.isPlainObject=s,qt.exports.getValue=t}).call(ba)});var ai=L((wa,Ta)=>{(function(){var e;Ta.exports=e=function(){function t(){}return t.prototype.hasFeature=function(r,n){return!0},t.prototype.createDocumentType=function(r,n,i){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(r,n,i){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(r){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(r,n){throw new Error("This DOM method is not implemented.")},t}()}).call(wa)});var va=L((Aa,Sa)=>{(function(){var e;Sa.exports=e=function(){function t(){}return t.prototype.handleError=function(r){throw new Error(r)},t}()}).call(Aa)});var Da=L((Oa,Pa)=>{(function(){var e;Pa.exports=e=function(){function t(r){this.arr=r||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(r){return this.arr[r]||null},t.prototype.contains=function(r){return this.arr.indexOf(r)!==-1},t}()}).call(Oa)});var Ca=L((Na,xa)=>{(function(){var e,t,r;t=va(),r=Da(),xa.exports=e=function(){function n(){var i;this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=i=Object.create(this.defaultParams)}return Object.defineProperty(n.prototype,"parameterNames",{get:function(){return new r(Object.keys(this.defaultParams))}}),n.prototype.getParameter=function(i){return this.params.hasOwnProperty(i)?this.params[i]:null},n.prototype.canSetParameter=function(i,o){return!0},n.prototype.setParameter=function(i,o){return o!=null?this.params[i]=o:delete this.params[i]},n}()}).call(Na)});var Z=L((Ia,La)=>{(function(){La.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(Ia)});var ui=L((Ra,Ma)=>{(function(){var e,t,r;e=Z(),r=ft(),Ma.exports=t=function(){function n(i,o,s){if(this.parent=i,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),o==null)throw new Error("Missing attribute name. "+this.debugInfo(o));this.name=this.stringify.name(o),this.value=this.stringify.attValue(s),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(n.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(n.prototype,"textContent",{get:function(){return this.value},set:function(i){return this.value=i||""}}),Object.defineProperty(n.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(n.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(n.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"specified",{get:function(){return!0}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(i){return this.options.writer.attribute(this,this.options.writer.filterOptions(i))},n.prototype.debugInfo=function(i){return i=i||this.name,i==null?"parent: <"+this.parent.name+">":"attribute: {"+i+"}, parent: <"+this.parent.name+">"},n.prototype.isEqualNode=function(i){return!(i.namespaceURI!==this.namespaceURI||i.prefix!==this.prefix||i.localName!==this.localName||i.value!==this.value)},n}()}).call(Ra)});var er=L((Fa,qa)=>{(function(){var e;qa.exports=e=function(){function t(r){this.nodes=r}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(r){return this.nodes[r]},t.prototype.setNamedItem=function(r){var n;return n=this.nodes[r.nodeName],this.nodes[r.nodeName]=r,n||null},t.prototype.removeNamedItem=function(r){var n;return n=this.nodes[r],delete this.nodes[r],n||null},t.prototype.item=function(r){return this.nodes[Object.keys(this.nodes)[r]]||null},t.prototype.getNamedItemNS=function(r,n){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(r){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(r,n){throw new Error("This DOM method is not implemented.")},t}()}).call(Fa)});var rr=L((ka,Ba)=>{(function(){var e,t,r,n,i,o,s,a,l,y=function(b,c){for(var m in c)g.call(c,m)&&(b[m]=c[m]);function d(){this.constructor=b}return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},g={}.hasOwnProperty;l=Tt(),a=l.isObject,s=l.isFunction,o=l.getValue,i=ft(),e=Z(),t=ui(),n=er(),Ba.exports=r=function(b){y(c,b);function c(m,d,v){var C,P,R,E;if(c.__super__.constructor.call(this,m),d==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(d),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,v!=null&&this.attribute(v),m.type===e.Document&&(this.isRoot=!0,this.documentObject=m,m.rootObject=this,m.children)){for(E=m.children,P=0,R=E.length;P<R;P++)if(C=E[P],C.type===e.DocType){C.name=this.name;break}}}return Object.defineProperty(c.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(c.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(c.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(c.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(c.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(c.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(c.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(c.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new n(this.attribs)),this.attributeMap}}),c.prototype.clone=function(){var m,d,v,C;v=Object.create(this),v.isRoot&&(v.documentObject=null),v.attribs={},C=this.attribs;for(d in C)!g.call(C,d)||(m=C[d],v.attribs[d]=m.clone());return v.children=[],this.children.forEach(function(P){var R;return R=P.clone(),R.parent=v,v.children.push(R)}),v},c.prototype.attribute=function(m,d){var v,C;if(m!=null&&(m=o(m)),a(m))for(v in m)!g.call(m,v)||(C=m[v],this.attribute(v,C));else s(d)&&(d=d.apply()),this.options.keepNullAttributes&&d==null?this.attribs[m]=new t(this,m,""):d!=null&&(this.attribs[m]=new t(this,m,d));return this},c.prototype.removeAttribute=function(m){var d,v,C;if(m==null)throw new Error("Missing attribute name. "+this.debugInfo());if(m=o(m),Array.isArray(m))for(v=0,C=m.length;v<C;v++)d=m[v],delete this.attribs[d];else delete this.attribs[m];return this},c.prototype.toString=function(m){return this.options.writer.element(this,this.options.writer.filterOptions(m))},c.prototype.att=function(m,d){return this.attribute(m,d)},c.prototype.a=function(m,d){return this.attribute(m,d)},c.prototype.getAttribute=function(m){return this.attribs.hasOwnProperty(m)?this.attribs[m].value:null},c.prototype.setAttribute=function(m,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getAttributeNode=function(m){return this.attribs.hasOwnProperty(m)?this.attribs[m]:null},c.prototype.setAttributeNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.removeAttributeNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getAttributeNS=function(m,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.setAttributeNS=function(m,d,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.removeAttributeNS=function(m,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getAttributeNodeNS=function(m,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.setAttributeNodeNS=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagNameNS=function(m,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.hasAttribute=function(m){return this.attribs.hasOwnProperty(m)},c.prototype.hasAttributeNS=function(m,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.setIdAttribute=function(m,d){return this.attribs.hasOwnProperty(m)?this.attribs[m].isId:d},c.prototype.setIdAttributeNS=function(m,d,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.setIdAttributeNode=function(m,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagNameNS=function(m,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByClassName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.isEqualNode=function(m){var d,v,C;if(!c.__super__.isEqualNode.apply(this,arguments).isEqualNode(m)||m.namespaceURI!==this.namespaceURI||m.prefix!==this.prefix||m.localName!==this.localName||m.attribs.length!==this.attribs.length)return!1;for(d=v=0,C=this.attribs.length-1;0<=C?v<=C:v>=C;d=0<=C?++v:--v)if(!this.attribs[d].isEqualNode(m.attribs[d]))return!1;return!0},c}(i)}).call(ka)});var _e=L((Ha,ja)=>{(function(){var e,t,r=function(i,o){for(var s in o)n.call(o,s)&&(i[s]=o[s]);function a(){this.constructor=i}return a.prototype=o.prototype,i.prototype=new a,i.__super__=o.prototype,i},n={}.hasOwnProperty;t=ft(),ja.exports=e=function(i){r(o,i);function o(s){o.__super__.constructor.call(this,s),this.value=""}return Object.defineProperty(o.prototype,"data",{get:function(){return this.value},set:function(s){return this.value=s||""}}),Object.defineProperty(o.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(o.prototype,"textContent",{get:function(){return this.value},set:function(s){return this.value=s||""}}),o.prototype.clone=function(){return Object.create(this)},o.prototype.substringData=function(s,a){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.appendData=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.insertData=function(s,a){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.deleteData=function(s,a){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.replaceData=function(s,a,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.isEqualNode=function(s){return!(!o.__super__.isEqualNode.apply(this,arguments).isEqualNode(s)||s.data!==this.data)},o}(t)}).call(Ha)});var nr=L(($a,Xa)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},i={}.hasOwnProperty;e=Z(),r=_e(),Xa.exports=t=function(o){n(s,o);function s(a,l){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(l)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.cdata(this,this.options.writer.filterOptions(a))},s}(r)}).call($a)});var ir=L((Ua,Va)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},i={}.hasOwnProperty;e=Z(),t=_e(),Va.exports=r=function(o){n(s,o);function s(a,l){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(l)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.comment(this,this.options.writer.filterOptions(a))},s}(t)}).call(Ua)});var sr=L((Ga,Wa)=>{(function(){var e,t,r,n,i=function(s,a){for(var l in a)o.call(a,l)&&(s[l]=a[l]);function y(){this.constructor=s}return y.prototype=a.prototype,s.prototype=new y,s.__super__=a.prototype,s},o={}.hasOwnProperty;n=Tt().isObject,r=ft(),e=Z(),Wa.exports=t=function(s){i(a,s);function a(l,y,g,b){var c;a.__super__.constructor.call(this,l),n(y)&&(c=y,y=c.version,g=c.encoding,b=c.standalone),y||(y="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(y),g!=null&&(this.encoding=this.stringify.xmlEncoding(g)),b!=null&&(this.standalone=this.stringify.xmlStandalone(b))}return a.prototype.toString=function(l){return this.options.writer.declaration(this,this.options.writer.filterOptions(l))},a}(r)}).call(Ga)});var or=L((Ya,Ka)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},i={}.hasOwnProperty;r=ft(),e=Z(),Ka.exports=t=function(o){n(s,o);function s(a,l,y,g,b,c){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(y==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(l));if(!g)throw new Error("Missing DTD attribute type. "+this.debugInfo(l));if(!b)throw new Error("Missing DTD attribute default. "+this.debugInfo(l));if(b.indexOf("#")!==0&&(b="#"+b),!b.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(l));if(c&&!b.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(l));this.elementName=this.stringify.name(l),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(y),this.attributeType=this.stringify.dtdAttType(g),c&&(this.defaultValue=this.stringify.dtdAttDefault(c)),this.defaultValueType=b}return s.prototype.toString=function(a){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(a))},s}(r)}).call(Ya)});var ar=L((Qa,Ja)=>{(function(){var e,t,r,n,i=function(s,a){for(var l in a)o.call(a,l)&&(s[l]=a[l]);function y(){this.constructor=s}return y.prototype=a.prototype,s.prototype=new y,s.__super__=a.prototype,s},o={}.hasOwnProperty;n=Tt().isObject,r=ft(),e=Z(),Ja.exports=t=function(s){i(a,s);function a(l,y,g,b){if(a.__super__.constructor.call(this,l),g==null)throw new Error("Missing DTD entity name. "+this.debugInfo(g));if(b==null)throw new Error("Missing DTD entity value. "+this.debugInfo(g));if(this.pe=!!y,this.name=this.stringify.name(g),this.type=e.EntityDeclaration,!n(b))this.value=this.stringify.dtdEntityValue(b),this.internal=!0;else{if(!b.pubID&&!b.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(g));if(b.pubID&&!b.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(g));if(this.internal=!1,b.pubID!=null&&(this.pubID=this.stringify.dtdPubID(b.pubID)),b.sysID!=null&&(this.sysID=this.stringify.dtdSysID(b.sysID)),b.nData!=null&&(this.nData=this.stringify.dtdNData(b.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(g))}}return Object.defineProperty(a.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(a.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(a.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(a.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(a.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(a.prototype,"xmlVersion",{get:function(){return null}}),a.prototype.toString=function(l){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(l))},a}(r)}).call(Qa)});var ur=L((za,Za)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},i={}.hasOwnProperty;r=ft(),e=Z(),Za.exports=t=function(o){n(s,o);function s(a,l,y){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing DTD element name. "+this.debugInfo());y||(y="(#PCDATA)"),Array.isArray(y)&&(y="("+y.join(",")+")"),this.name=this.stringify.name(l),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(y)}return s.prototype.toString=function(a){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(a))},s}(r)}).call(za)});var cr=L((tu,eu)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},i={}.hasOwnProperty;r=ft(),e=Z(),eu.exports=t=function(o){n(s,o);function s(a,l,y){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing DTD notation name. "+this.debugInfo(l));if(!y.pubID&&!y.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(l));this.name=this.stringify.name(l),this.type=e.NotationDeclaration,y.pubID!=null&&(this.pubID=this.stringify.dtdPubID(y.pubID)),y.sysID!=null&&(this.sysID=this.stringify.dtdSysID(y.sysID))}return Object.defineProperty(s.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(s.prototype,"systemId",{get:function(){return this.sysID}}),s.prototype.toString=function(a){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(a))},s}(r)}).call(tu)});var lr=L((ru,nu)=>{(function(){var e,t,r,n,i,o,s,a,l,y=function(b,c){for(var m in c)g.call(c,m)&&(b[m]=c[m]);function d(){this.constructor=b}return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},g={}.hasOwnProperty;l=Tt().isObject,a=ft(),e=Z(),t=or(),n=ar(),r=ur(),i=cr(),s=er(),nu.exports=o=function(b){y(c,b);function c(m,d,v){var C,P,R,E,p,u;if(c.__super__.constructor.call(this,m),this.type=e.DocType,m.children){for(E=m.children,P=0,R=E.length;P<R;P++)if(C=E[P],C.type===e.Element){this.name=C.name;break}}this.documentObject=m,l(d)&&(p=d,d=p.pubID,v=p.sysID),v==null&&(u=[d,v],v=u[0],d=u[1]),d!=null&&(this.pubID=this.stringify.dtdPubID(d)),v!=null&&(this.sysID=this.stringify.dtdSysID(v))}return Object.defineProperty(c.prototype,"entities",{get:function(){var m,d,v,C,P;for(C={},P=this.children,d=0,v=P.length;d<v;d++)m=P[d],m.type===e.EntityDeclaration&&!m.pe&&(C[m.name]=m);return new s(C)}}),Object.defineProperty(c.prototype,"notations",{get:function(){var m,d,v,C,P;for(C={},P=this.children,d=0,v=P.length;d<v;d++)m=P[d],m.type===e.NotationDeclaration&&(C[m.name]=m);return new s(C)}}),Object.defineProperty(c.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(c.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(c.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),c.prototype.element=function(m,d){var v;return v=new r(this,m,d),this.children.push(v),this},c.prototype.attList=function(m,d,v,C,P){var R;return R=new t(this,m,d,v,C,P),this.children.push(R),this},c.prototype.entity=function(m,d){var v;return v=new n(this,!1,m,d),this.children.push(v),this},c.prototype.pEntity=function(m,d){var v;return v=new n(this,!0,m,d),this.children.push(v),this},c.prototype.notation=function(m,d){var v;return v=new i(this,m,d),this.children.push(v),this},c.prototype.toString=function(m){return this.options.writer.docType(this,this.options.writer.filterOptions(m))},c.prototype.ele=function(m,d){return this.element(m,d)},c.prototype.att=function(m,d,v,C,P){return this.attList(m,d,v,C,P)},c.prototype.ent=function(m,d){return this.entity(m,d)},c.prototype.pent=function(m,d){return this.pEntity(m,d)},c.prototype.not=function(m,d){return this.notation(m,d)},c.prototype.up=function(){return this.root()||this.documentObject},c.prototype.isEqualNode=function(m){return!(!c.__super__.isEqualNode.apply(this,arguments).isEqualNode(m)||m.name!==this.name||m.publicId!==this.publicId||m.systemId!==this.systemId)},c}(a)}).call(ru)});var fr=L((iu,su)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},i={}.hasOwnProperty;e=Z(),t=ft(),su.exports=r=function(o){n(s,o);function s(a,l){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(l)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.raw(this,this.options.writer.filterOptions(a))},s}(t)}).call(iu)});var pr=L((ou,au)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},i={}.hasOwnProperty;e=Z(),t=_e(),au.exports=r=function(o){n(s,o);function s(a,l){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(l)}return Object.defineProperty(s.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(s.prototype,"wholeText",{get:function(){var a,l,y;for(y="",l=this.previousSibling;l;)y=l.data+y,l=l.previousSibling;for(y+=this.data,a=this.nextSibling;a;)y=y+a.data,a=a.nextSibling;return y}}),s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.text(this,this.options.writer.filterOptions(a))},s.prototype.splitText=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.replaceWholeText=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},s}(t)}).call(ou)});var hr=L((uu,cu)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},i={}.hasOwnProperty;e=Z(),t=_e(),cu.exports=r=function(o){n(s,o);function s(a,l,y){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(l),this.name=this.target,y&&(this.value=this.stringify.insValue(y))}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(a))},s.prototype.isEqualNode=function(a){return!(!s.__super__.isEqualNode.apply(this,arguments).isEqualNode(a)||a.target!==this.target)},s}(t)}).call(uu)});var ci=L((lu,fu)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},i={}.hasOwnProperty;r=ft(),e=Z(),fu.exports=t=function(o){n(s,o);function s(a){s.__super__.constructor.call(this,a),this.type=e.Dummy}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return""},s}(r)}).call(lu)});var du=L((pu,hu)=>{(function(){var e;hu.exports=e=function(){function t(r){this.nodes=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(r){return this.nodes[r]||null},t}()}).call(pu)});var gu=L((yu,mu)=>{(function(){mu.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(yu)});var ft=L((_u,Eu)=>{(function(){var e,t,r,n,i,o,s,a,l,y,g,b,c,m,d,v,C,P,R,E={}.hasOwnProperty;R=Tt(),P=R.isObject,C=R.isFunction,v=R.isEmpty,d=R.getValue,a=null,r=null,n=null,i=null,o=null,c=null,m=null,b=null,s=null,t=null,g=null,l=null,e=null,Eu.exports=y=function(){function p(u){this.parent=u,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,a||(a=rr(),r=nr(),n=ir(),i=sr(),o=lr(),c=fr(),m=pr(),b=hr(),s=ci(),t=Z(),g=du(),l=er(),e=gu())}return Object.defineProperty(p.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(p.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(p.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(p.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(p.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new g(this.children)),this.childNodeList}}),Object.defineProperty(p.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(p.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(p.prototype,"previousSibling",{get:function(){var u;return u=this.parent.children.indexOf(this),this.parent.children[u-1]||null}}),Object.defineProperty(p.prototype,"nextSibling",{get:function(){var u;return u=this.parent.children.indexOf(this),this.parent.children[u+1]||null}}),Object.defineProperty(p.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(p.prototype,"textContent",{get:function(){var u,w,O,_,N;if(this.nodeType===t.Element||this.nodeType===t.DocumentFragment){for(N="",_=this.children,w=0,O=_.length;w<O;w++)u=_[w],u.textContent&&(N+=u.textContent);return N}else return null},set:function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),p.prototype.setParent=function(u){var w,O,_,N,A;for(this.parent=u,u&&(this.options=u.options,this.stringify=u.stringify),N=this.children,A=[],O=0,_=N.length;O<_;O++)w=N[O],A.push(w.setParent(this));return A},p.prototype.element=function(u,w,O){var _,N,A,T,I,q,j,x,D,U,k;if(q=null,w===null&&O==null&&(D=[{},null],w=D[0],O=D[1]),w==null&&(w={}),w=d(w),P(w)||(U=[w,O],O=U[0],w=U[1]),u!=null&&(u=d(u)),Array.isArray(u))for(A=0,j=u.length;A<j;A++)N=u[A],q=this.element(N);else if(C(u))q=this.element(u.apply());else if(P(u)){for(I in u)if(!!E.call(u,I))if(k=u[I],C(k)&&(k=k.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&I.indexOf(this.stringify.convertAttKey)===0)q=this.attribute(I.substr(this.stringify.convertAttKey.length),k);else if(!this.options.separateArrayItems&&Array.isArray(k)&&v(k))q=this.dummy();else if(P(k)&&v(k))q=this.element(I);else if(!this.options.keepNullNodes&&k==null)q=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(k))for(T=0,x=k.length;T<x;T++)N=k[T],_={},_[I]=N,q=this.element(_);else P(k)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&I.indexOf(this.stringify.convertTextKey)===0?q=this.element(k):(q=this.element(I),q.element(k)):q=this.element(I,k)}else!this.options.keepNullNodes&&O===null?q=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&u.indexOf(this.stringify.convertTextKey)===0?q=this.text(O):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&u.indexOf(this.stringify.convertCDataKey)===0?q=this.cdata(O):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&u.indexOf(this.stringify.convertCommentKey)===0?q=this.comment(O):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&u.indexOf(this.stringify.convertRawKey)===0?q=this.raw(O):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&u.indexOf(this.stringify.convertPIKey)===0?q=this.instruction(u.substr(this.stringify.convertPIKey.length),O):q=this.node(u,w,O);if(q==null)throw new Error("Could not create any elements with: "+u+". "+this.debugInfo());return q},p.prototype.insertBefore=function(u,w,O){var _,N,A,T,I;if(u?.type)return A=u,T=w,A.setParent(this),T?(N=children.indexOf(T),I=children.splice(N),children.push(A),Array.prototype.push.apply(children,I)):children.push(A),A;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(u));return N=this.parent.children.indexOf(this),I=this.parent.children.splice(N),_=this.parent.element(u,w,O),Array.prototype.push.apply(this.parent.children,I),_},p.prototype.insertAfter=function(u,w,O){var _,N,A;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(u));return N=this.parent.children.indexOf(this),A=this.parent.children.splice(N+1),_=this.parent.element(u,w,O),Array.prototype.push.apply(this.parent.children,A),_},p.prototype.remove=function(){var u,w;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return u=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[u,u-u+1].concat(w=[])),this.parent},p.prototype.node=function(u,w,O){var _,N;return u!=null&&(u=d(u)),w||(w={}),w=d(w),P(w)||(N=[w,O],O=N[0],w=N[1]),_=new a(this,u,w),O!=null&&_.text(O),this.children.push(_),_},p.prototype.text=function(u){var w;return P(u)&&this.element(u),w=new m(this,u),this.children.push(w),this},p.prototype.cdata=function(u){var w;return w=new r(this,u),this.children.push(w),this},p.prototype.comment=function(u){var w;return w=new n(this,u),this.children.push(w),this},p.prototype.commentBefore=function(u){var w,O,_;return O=this.parent.children.indexOf(this),_=this.parent.children.splice(O),w=this.parent.comment(u),Array.prototype.push.apply(this.parent.children,_),this},p.prototype.commentAfter=function(u){var w,O,_;return O=this.parent.children.indexOf(this),_=this.parent.children.splice(O+1),w=this.parent.comment(u),Array.prototype.push.apply(this.parent.children,_),this},p.prototype.raw=function(u){var w;return w=new c(this,u),this.children.push(w),this},p.prototype.dummy=function(){var u;return u=new s(this),u},p.prototype.instruction=function(u,w){var O,_,N,A,T;if(u!=null&&(u=d(u)),w!=null&&(w=d(w)),Array.isArray(u))for(A=0,T=u.length;A<T;A++)O=u[A],this.instruction(O);else if(P(u))for(O in u)!E.call(u,O)||(_=u[O],this.instruction(O,_));else C(w)&&(w=w.apply()),N=new b(this,u,w),this.children.push(N);return this},p.prototype.instructionBefore=function(u,w){var O,_,N;return _=this.parent.children.indexOf(this),N=this.parent.children.splice(_),O=this.parent.instruction(u,w),Array.prototype.push.apply(this.parent.children,N),this},p.prototype.instructionAfter=function(u,w){var O,_,N;return _=this.parent.children.indexOf(this),N=this.parent.children.splice(_+1),O=this.parent.instruction(u,w),Array.prototype.push.apply(this.parent.children,N),this},p.prototype.declaration=function(u,w,O){var _,N;return _=this.document(),N=new i(_,u,w,O),_.children.length===0?_.children.unshift(N):_.children[0].type===t.Declaration?_.children[0]=N:_.children.unshift(N),_.root()||_},p.prototype.dtd=function(u,w){var O,_,N,A,T,I,q,j,x,D;for(_=this.document(),N=new o(_,u,w),x=_.children,A=T=0,q=x.length;T<q;A=++T)if(O=x[A],O.type===t.DocType)return _.children[A]=N,N;for(D=_.children,A=I=0,j=D.length;I<j;A=++I)if(O=D[A],O.isRoot)return _.children.splice(A,0,N),N;return _.children.push(N),N},p.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},p.prototype.root=function(){var u;for(u=this;u;){if(u.type===t.Document)return u.rootObject;if(u.isRoot)return u;u=u.parent}},p.prototype.document=function(){var u;for(u=this;u;){if(u.type===t.Document)return u;u=u.parent}},p.prototype.end=function(u){return this.document().end(u)},p.prototype.prev=function(){var u;if(u=this.parent.children.indexOf(this),u<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[u-1]},p.prototype.next=function(){var u;if(u=this.parent.children.indexOf(this),u===-1||u===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[u+1]},p.prototype.importDocument=function(u){var w;return w=u.root().clone(),w.parent=this,w.isRoot=!1,this.children.push(w),this},p.prototype.debugInfo=function(u){var w,O;return u=u||this.name,u==null&&!((w=this.parent)!=null&&w.name)?"":u==null?"parent: <"+this.parent.name+">":(O=this.parent)!=null&&O.name?"node: <"+u+">, parent: <"+this.parent.name+">":"node: <"+u+">"},p.prototype.ele=function(u,w,O){return this.element(u,w,O)},p.prototype.nod=function(u,w,O){return this.node(u,w,O)},p.prototype.txt=function(u){return this.text(u)},p.prototype.dat=function(u){return this.cdata(u)},p.prototype.com=function(u){return this.comment(u)},p.prototype.ins=function(u,w){return this.instruction(u,w)},p.prototype.doc=function(){return this.document()},p.prototype.dec=function(u,w,O){return this.declaration(u,w,O)},p.prototype.e=function(u,w,O){return this.element(u,w,O)},p.prototype.n=function(u,w,O){return this.node(u,w,O)},p.prototype.t=function(u){return this.text(u)},p.prototype.d=function(u){return this.cdata(u)},p.prototype.c=function(u){return this.comment(u)},p.prototype.r=function(u){return this.raw(u)},p.prototype.i=function(u,w){return this.instruction(u,w)},p.prototype.u=function(){return this.up()},p.prototype.importXMLBuilder=function(u){return this.importDocument(u)},p.prototype.replaceChild=function(u,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.removeChild=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.appendChild=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.hasChildNodes=function(){return this.children.length!==0},p.prototype.cloneNode=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.isSupported=function(u,w){return!0},p.prototype.hasAttributes=function(){return this.attribs.length!==0},p.prototype.compareDocumentPosition=function(u){var w,O;return w=this,w===u?0:this.document()!==u.document()?(O=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?O|=e.Preceding:O|=e.Following,O):w.isAncestor(u)?e.Contains|e.Preceding:w.isDescendant(u)?e.Contains|e.Following:w.isPreceding(u)?e.Preceding:e.Following},p.prototype.isSameNode=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.lookupPrefix=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.isDefaultNamespace=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.lookupNamespaceURI=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.isEqualNode=function(u){var w,O,_;if(u.nodeType!==this.nodeType||u.children.length!==this.children.length)return!1;for(w=O=0,_=this.children.length-1;0<=_?O<=_:O>=_;w=0<=_?++O:--O)if(!this.children[w].isEqualNode(u.children[w]))return!1;return!0},p.prototype.getFeature=function(u,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.setUserData=function(u,w,O){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getUserData=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.contains=function(u){return u?u===this||this.isDescendant(u):!1},p.prototype.isDescendant=function(u){var w,O,_,N,A;for(A=this.children,_=0,N=A.length;_<N;_++)if(w=A[_],u===w||(O=w.isDescendant(u),O))return!0;return!1},p.prototype.isAncestor=function(u){return u.isDescendant(this)},p.prototype.isPreceding=function(u){var w,O;return w=this.treePosition(u),O=this.treePosition(this),w===-1||O===-1?!1:w<O},p.prototype.isFollowing=function(u){var w,O;return w=this.treePosition(u),O=this.treePosition(this),w===-1||O===-1?!1:w>O},p.prototype.treePosition=function(u){var w,O;return O=0,w=!1,this.foreachTreeNode(this.document(),function(_){if(O++,!w&&_===u)return w=!0}),w?O:-1},p.prototype.foreachTreeNode=function(u,w){var O,_,N,A,T;for(u||(u=this.document()),A=u.children,_=0,N=A.length;_<N;_++){if(O=A[_],T=w(O))return T;if(T=this.foreachTreeNode(O,w),T)return T}},p}()}).call(_u)});var li=L((bu,wu)=>{(function(){var e,t=function(n,i){return function(){return n.apply(i,arguments)}},r={}.hasOwnProperty;wu.exports=e=function(){function n(i){this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this);var o,s,a;i||(i={}),this.options=i,this.options.version||(this.options.version="1.0"),s=i.stringify||{};for(o in s)!r.call(s,o)||(a=s[o],this[o]=a)}return n.prototype.name=function(i){return this.options.noValidation?i:this.assertLegalName(""+i||"")},n.prototype.text=function(i){return this.options.noValidation?i:this.assertLegalChar(this.textEscape(""+i||""))},n.prototype.cdata=function(i){return this.options.noValidation?i:(i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i))},n.prototype.comment=function(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)},n.prototype.raw=function(i){return this.options.noValidation?i:""+i||""},n.prototype.attValue=function(i){return this.options.noValidation?i:this.assertLegalChar(this.attEscape(i=""+i||""))},n.prototype.insTarget=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.insValue=function(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return this.assertLegalChar(i)},n.prototype.xmlVersion=function(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i},n.prototype.xmlEncoding=function(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return this.assertLegalChar(i)},n.prototype.xmlStandalone=function(i){return this.options.noValidation?i:i?"yes":"no"},n.prototype.dtdPubID=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdSysID=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdElementValue=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdAttType=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdAttDefault=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdEntityValue=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdNData=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(i){var o,s;if(this.options.noValidation)return i;if(o="",this.options.version==="1.0"){if(o=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=i.match(o))throw new Error("Invalid character in string: "+i+" at index "+s.index)}else if(this.options.version==="1.1"&&(o=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=i.match(o)))throw new Error("Invalid character in string: "+i+" at index "+s.index);return i},n.prototype.assertLegalName=function(i){var o;if(this.options.noValidation)return i;if(this.assertLegalChar(i),o=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!i.match(o))throw new Error("Invalid character in name");return i},n.prototype.textEscape=function(i){var o;return this.options.noValidation?i:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(o,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},n.prototype.attEscape=function(i){var o;return this.options.noValidation?i:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(o,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},n}()}).call(bu)});var Ee=L((Tu,Au)=>{(function(){Au.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(Tu)});var fi=L((Su,vu)=>{(function(){var e,t,r,n,i,o,s,a,l,y,g,b,c,m,d,v,C,P={}.hasOwnProperty;C=Tt().assign,e=Z(),l=sr(),y=lr(),r=nr(),n=ir(),b=rr(),m=fr(),d=pr(),c=hr(),g=ci(),i=or(),o=ur(),s=ar(),a=cr(),t=Ee(),vu.exports=v=function(){function R(E){var p,u,w;E||(E={}),this.options=E,u=E.writer||{};for(p in u)!P.call(u,p)||(w=u[p],this["_"+p]=this[p],this[p]=w)}return R.prototype.filterOptions=function(E){var p,u,w,O,_,N,A,T;return E||(E={}),E=C({},this.options,E),p={writer:this},p.pretty=E.pretty||!1,p.allowEmpty=E.allowEmpty||!1,p.indent=(u=E.indent)!=null?u:"  ",p.newline=(w=E.newline)!=null?w:`
`,p.offset=(O=E.offset)!=null?O:0,p.dontPrettyTextNodes=(_=(N=E.dontPrettyTextNodes)!=null?N:E.dontprettytextnodes)!=null?_:0,p.spaceBeforeSlash=(A=(T=E.spaceBeforeSlash)!=null?T:E.spacebeforeslash)!=null?A:"",p.spaceBeforeSlash===!0&&(p.spaceBeforeSlash=" "),p.suppressPrettyCount=0,p.user={},p.state=t.None,p},R.prototype.indent=function(E,p,u){var w;return!p.pretty||p.suppressPrettyCount?"":p.pretty&&(w=(u||0)+p.offset+1,w>0)?new Array(w).join(p.indent):""},R.prototype.endline=function(E,p,u){return!p.pretty||p.suppressPrettyCount?"":p.newline},R.prototype.attribute=function(E,p,u){var w;return this.openAttribute(E,p,u),w=" "+E.name+'="'+E.value+'"',this.closeAttribute(E,p,u),w},R.prototype.cdata=function(E,p,u){var w;return this.openNode(E,p,u),p.state=t.OpenTag,w=this.indent(E,p,u)+"<![CDATA[",p.state=t.InsideTag,w+=E.value,p.state=t.CloseTag,w+="]]>"+this.endline(E,p,u),p.state=t.None,this.closeNode(E,p,u),w},R.prototype.comment=function(E,p,u){var w;return this.openNode(E,p,u),p.state=t.OpenTag,w=this.indent(E,p,u)+"<!-- ",p.state=t.InsideTag,w+=E.value,p.state=t.CloseTag,w+=" -->"+this.endline(E,p,u),p.state=t.None,this.closeNode(E,p,u),w},R.prototype.declaration=function(E,p,u){var w;return this.openNode(E,p,u),p.state=t.OpenTag,w=this.indent(E,p,u)+"<?xml",p.state=t.InsideTag,w+=' version="'+E.version+'"',E.encoding!=null&&(w+=' encoding="'+E.encoding+'"'),E.standalone!=null&&(w+=' standalone="'+E.standalone+'"'),p.state=t.CloseTag,w+=p.spaceBeforeSlash+"?>",w+=this.endline(E,p,u),p.state=t.None,this.closeNode(E,p,u),w},R.prototype.docType=function(E,p,u){var w,O,_,N,A;if(u||(u=0),this.openNode(E,p,u),p.state=t.OpenTag,N=this.indent(E,p,u),N+="<!DOCTYPE "+E.root().name,E.pubID&&E.sysID?N+=' PUBLIC "'+E.pubID+'" "'+E.sysID+'"':E.sysID&&(N+=' SYSTEM "'+E.sysID+'"'),E.children.length>0){for(N+=" [",N+=this.endline(E,p,u),p.state=t.InsideTag,A=E.children,O=0,_=A.length;O<_;O++)w=A[O],N+=this.writeChildNode(w,p,u+1);p.state=t.CloseTag,N+="]"}return p.state=t.CloseTag,N+=p.spaceBeforeSlash+">",N+=this.endline(E,p,u),p.state=t.None,this.closeNode(E,p,u),N},R.prototype.element=function(E,p,u){var w,O,_,N,A,T,I,q,j,x,D,U,k,tt;u||(u=0),x=!1,D="",this.openNode(E,p,u),p.state=t.OpenTag,D+=this.indent(E,p,u)+"<"+E.name,U=E.attribs;for(j in U)!P.call(U,j)||(w=U[j],D+=this.attribute(w,p,u));if(_=E.children.length,N=_===0?null:E.children[0],_===0||E.children.every(function(K){return(K.type===e.Text||K.type===e.Raw)&&K.value===""}))p.allowEmpty?(D+=">",p.state=t.CloseTag,D+="</"+E.name+">"+this.endline(E,p,u)):(p.state=t.CloseTag,D+=p.spaceBeforeSlash+"/>"+this.endline(E,p,u));else if(p.pretty&&_===1&&(N.type===e.Text||N.type===e.Raw)&&N.value!=null)D+=">",p.state=t.InsideTag,p.suppressPrettyCount++,x=!0,D+=this.writeChildNode(N,p,u+1),p.suppressPrettyCount--,x=!1,p.state=t.CloseTag,D+="</"+E.name+">"+this.endline(E,p,u);else{if(p.dontPrettyTextNodes){for(k=E.children,A=0,I=k.length;A<I;A++)if(O=k[A],(O.type===e.Text||O.type===e.Raw)&&O.value!=null){p.suppressPrettyCount++,x=!0;break}}for(D+=">"+this.endline(E,p,u),p.state=t.InsideTag,tt=E.children,T=0,q=tt.length;T<q;T++)O=tt[T],D+=this.writeChildNode(O,p,u+1);p.state=t.CloseTag,D+=this.indent(E,p,u)+"</"+E.name+">",x&&p.suppressPrettyCount--,D+=this.endline(E,p,u),p.state=t.None}return this.closeNode(E,p,u),D},R.prototype.writeChildNode=function(E,p,u){switch(E.type){case e.CData:return this.cdata(E,p,u);case e.Comment:return this.comment(E,p,u);case e.Element:return this.element(E,p,u);case e.Raw:return this.raw(E,p,u);case e.Text:return this.text(E,p,u);case e.ProcessingInstruction:return this.processingInstruction(E,p,u);case e.Dummy:return"";case e.Declaration:return this.declaration(E,p,u);case e.DocType:return this.docType(E,p,u);case e.AttributeDeclaration:return this.dtdAttList(E,p,u);case e.ElementDeclaration:return this.dtdElement(E,p,u);case e.EntityDeclaration:return this.dtdEntity(E,p,u);case e.NotationDeclaration:return this.dtdNotation(E,p,u);default:throw new Error("Unknown XML node type: "+E.constructor.name)}},R.prototype.processingInstruction=function(E,p,u){var w;return this.openNode(E,p,u),p.state=t.OpenTag,w=this.indent(E,p,u)+"<?",p.state=t.InsideTag,w+=E.target,E.value&&(w+=" "+E.value),p.state=t.CloseTag,w+=p.spaceBeforeSlash+"?>",w+=this.endline(E,p,u),p.state=t.None,this.closeNode(E,p,u),w},R.prototype.raw=function(E,p,u){var w;return this.openNode(E,p,u),p.state=t.OpenTag,w=this.indent(E,p,u),p.state=t.InsideTag,w+=E.value,p.state=t.CloseTag,w+=this.endline(E,p,u),p.state=t.None,this.closeNode(E,p,u),w},R.prototype.text=function(E,p,u){var w;return this.openNode(E,p,u),p.state=t.OpenTag,w=this.indent(E,p,u),p.state=t.InsideTag,w+=E.value,p.state=t.CloseTag,w+=this.endline(E,p,u),p.state=t.None,this.closeNode(E,p,u),w},R.prototype.dtdAttList=function(E,p,u){var w;return this.openNode(E,p,u),p.state=t.OpenTag,w=this.indent(E,p,u)+"<!ATTLIST",p.state=t.InsideTag,w+=" "+E.elementName+" "+E.attributeName+" "+E.attributeType,E.defaultValueType!=="#DEFAULT"&&(w+=" "+E.defaultValueType),E.defaultValue&&(w+=' "'+E.defaultValue+'"'),p.state=t.CloseTag,w+=p.spaceBeforeSlash+">"+this.endline(E,p,u),p.state=t.None,this.closeNode(E,p,u),w},R.prototype.dtdElement=function(E,p,u){var w;return this.openNode(E,p,u),p.state=t.OpenTag,w=this.indent(E,p,u)+"<!ELEMENT",p.state=t.InsideTag,w+=" "+E.name+" "+E.value,p.state=t.CloseTag,w+=p.spaceBeforeSlash+">"+this.endline(E,p,u),p.state=t.None,this.closeNode(E,p,u),w},R.prototype.dtdEntity=function(E,p,u){var w;return this.openNode(E,p,u),p.state=t.OpenTag,w=this.indent(E,p,u)+"<!ENTITY",p.state=t.InsideTag,E.pe&&(w+=" %"),w+=" "+E.name,E.value?w+=' "'+E.value+'"':(E.pubID&&E.sysID?w+=' PUBLIC "'+E.pubID+'" "'+E.sysID+'"':E.sysID&&(w+=' SYSTEM "'+E.sysID+'"'),E.nData&&(w+=" NDATA "+E.nData)),p.state=t.CloseTag,w+=p.spaceBeforeSlash+">"+this.endline(E,p,u),p.state=t.None,this.closeNode(E,p,u),w},R.prototype.dtdNotation=function(E,p,u){var w;return this.openNode(E,p,u),p.state=t.OpenTag,w=this.indent(E,p,u)+"<!NOTATION",p.state=t.InsideTag,w+=" "+E.name,E.pubID&&E.sysID?w+=' PUBLIC "'+E.pubID+'" "'+E.sysID+'"':E.pubID?w+=' PUBLIC "'+E.pubID+'"':E.sysID&&(w+=' SYSTEM "'+E.sysID+'"'),p.state=t.CloseTag,w+=p.spaceBeforeSlash+">"+this.endline(E,p,u),p.state=t.None,this.closeNode(E,p,u),w},R.prototype.openNode=function(E,p,u){},R.prototype.closeNode=function(E,p,u){},R.prototype.openAttribute=function(E,p,u){},R.prototype.closeAttribute=function(E,p,u){},R}()}).call(Su)});var dr=L((Ou,Pu)=>{(function(){var e,t,r=function(i,o){for(var s in o)n.call(o,s)&&(i[s]=o[s]);function a(){this.constructor=i}return a.prototype=o.prototype,i.prototype=new a,i.__super__=o.prototype,i},n={}.hasOwnProperty;t=fi(),Pu.exports=e=function(i){r(o,i);function o(s){o.__super__.constructor.call(this,s)}return o.prototype.document=function(s,a){var l,y,g,b,c;for(a=this.filterOptions(a),b="",c=s.children,y=0,g=c.length;y<g;y++)l=c[y],b+=this.writeChildNode(l,a,0);return a.pretty&&b.slice(-a.newline.length)===a.newline&&(b=b.slice(0,-a.newline.length)),b},o}(t)}).call(Ou)});var pi=L((Du,Nu)=>{(function(){var e,t,r,n,i,o,s,a,l=function(g,b){for(var c in b)y.call(b,c)&&(g[c]=b[c]);function m(){this.constructor=g}return m.prototype=b.prototype,g.prototype=new m,g.__super__=b.prototype,g},y={}.hasOwnProperty;a=Tt().isPlainObject,r=ai(),t=Ca(),i=ft(),e=Z(),s=li(),o=dr(),Nu.exports=n=function(g){l(b,g);function b(c){b.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new t,c||(c={}),c.writer||(c.writer=new o),this.options=c,this.stringify=new s(c)}return Object.defineProperty(b.prototype,"implementation",{value:new r}),Object.defineProperty(b.prototype,"doctype",{get:function(){var c,m,d,v;for(v=this.children,m=0,d=v.length;m<d;m++)if(c=v[m],c.type===e.DocType)return c;return null}}),Object.defineProperty(b.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(b.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(b.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(b.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(b.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(b.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(b.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(b.prototype,"origin",{get:function(){return null}}),Object.defineProperty(b.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(b.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(b.prototype,"contentType",{get:function(){return null}}),b.prototype.end=function(c){var m;return m={},c?a(c)&&(m=c,c=this.options.writer):c=this.options.writer,c.document(this,c.filterOptions(m))},b.prototype.toString=function(c){return this.options.writer.document(this,this.options.writer.filterOptions(c))},b.prototype.createElement=function(c){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.createTextNode=function(c){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.createComment=function(c){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.createCDATASection=function(c){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.createProcessingInstruction=function(c,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.createAttribute=function(c){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.createEntityReference=function(c){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.getElementsByTagName=function(c){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.importNode=function(c,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.createElementNS=function(c,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.createAttributeNS=function(c,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.getElementsByTagNameNS=function(c,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.getElementById=function(c){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.adoptNode=function(c){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.renameNode=function(c,m,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.getElementsByClassName=function(c){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.createEvent=function(c){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.createNodeIterator=function(c,m,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},b.prototype.createTreeWalker=function(c,m,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},b}(i)}).call(Du)});var Iu=L((xu,Cu)=>{(function(){var e,t,r,n,i,o,s,a,l,y,g,b,c,m,d,v,C,P,R,E,p,u,w,O,_={}.hasOwnProperty;O=Tt(),u=O.isObject,p=O.isFunction,w=O.isPlainObject,E=O.getValue,e=Z(),b=pi(),m=rr(),n=nr(),i=ir(),v=fr(),R=pr(),d=hr(),y=sr(),g=lr(),o=or(),a=ar(),s=ur(),l=cr(),r=ui(),P=li(),C=dr(),t=Ee(),Cu.exports=c=function(){function N(A,T,I){var q;this.name="?xml",this.type=e.Document,A||(A={}),q={},A.writer?w(A.writer)&&(q=A.writer,A.writer=new C):A.writer=new C,this.options=A,this.writer=A.writer,this.writerOptions=this.writer.filterOptions(q),this.stringify=new P(A),this.onDataCallback=T||function(){},this.onEndCallback=I||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return N.prototype.createChildNode=function(A){var T,I,q,j,x,D,U,k;switch(A.type){case e.CData:this.cdata(A.value);break;case e.Comment:this.comment(A.value);break;case e.Element:q={},U=A.attribs;for(I in U)!_.call(U,I)||(T=U[I],q[I]=T.value);this.node(A.name,q);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(A.value);break;case e.Text:this.text(A.value);break;case e.ProcessingInstruction:this.instruction(A.target,A.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+A.constructor.name)}for(k=A.children,x=0,D=k.length;x<D;x++)j=k[x],this.createChildNode(j),j.type===e.Element&&this.up();return this},N.prototype.dummy=function(){return this},N.prototype.node=function(A,T,I){var q;if(A==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(A));return this.openCurrent(),A=E(A),T==null&&(T={}),T=E(T),u(T)||(q=[T,I],I=q[0],T=q[1]),this.currentNode=new m(this,A,T),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,I!=null&&this.text(I),this},N.prototype.element=function(A,T,I){var q,j,x,D,U,k;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(A)||u(A)||p(A))for(D=this.options.noValidation,this.options.noValidation=!0,k=new b(this.options).element("TEMP_ROOT"),k.element(A),this.options.noValidation=D,U=k.children,j=0,x=U.length;j<x;j++)q=U[j],this.createChildNode(q),q.type===e.Element&&this.up();else this.node(A,T,I);return this},N.prototype.attribute=function(A,T){var I,q;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(A));if(A!=null&&(A=E(A)),u(A))for(I in A)!_.call(A,I)||(q=A[I],this.attribute(I,q));else p(T)&&(T=T.apply()),this.options.keepNullAttributes&&T==null?this.currentNode.attribs[A]=new r(this,A,""):T!=null&&(this.currentNode.attribs[A]=new r(this,A,T));return this},N.prototype.text=function(A){var T;return this.openCurrent(),T=new R(this,A),this.onData(this.writer.text(T,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},N.prototype.cdata=function(A){var T;return this.openCurrent(),T=new n(this,A),this.onData(this.writer.cdata(T,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},N.prototype.comment=function(A){var T;return this.openCurrent(),T=new i(this,A),this.onData(this.writer.comment(T,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},N.prototype.raw=function(A){var T;return this.openCurrent(),T=new v(this,A),this.onData(this.writer.raw(T,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},N.prototype.instruction=function(A,T){var I,q,j,x,D;if(this.openCurrent(),A!=null&&(A=E(A)),T!=null&&(T=E(T)),Array.isArray(A))for(I=0,x=A.length;I<x;I++)q=A[I],this.instruction(q);else if(u(A))for(q in A)!_.call(A,q)||(j=A[q],this.instruction(q,j));else p(T)&&(T=T.apply()),D=new d(this,A,T),this.onData(this.writer.processingInstruction(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},N.prototype.declaration=function(A,T,I){var q;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return q=new y(this,A,T,I),this.onData(this.writer.declaration(q,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},N.prototype.doctype=function(A,T,I){if(this.openCurrent(),A==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new g(this,T,I),this.currentNode.rootNodeName=A,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},N.prototype.dtdElement=function(A,T){var I;return this.openCurrent(),I=new s(this,A,T),this.onData(this.writer.dtdElement(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},N.prototype.attList=function(A,T,I,q,j){var x;return this.openCurrent(),x=new o(this,A,T,I,q,j),this.onData(this.writer.dtdAttList(x,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},N.prototype.entity=function(A,T){var I;return this.openCurrent(),I=new a(this,!1,A,T),this.onData(this.writer.dtdEntity(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},N.prototype.pEntity=function(A,T){var I;return this.openCurrent(),I=new a(this,!0,A,T),this.onData(this.writer.dtdEntity(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},N.prototype.notation=function(A,T){var I;return this.openCurrent(),I=new l(this,A,T),this.onData(this.writer.dtdNotation(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},N.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},N.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},N.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},N.prototype.openNode=function(A){var T,I,q,j;if(!A.isOpen){if(!this.root&&this.currentLevel===0&&A.type===e.Element&&(this.root=A),I="",A.type===e.Element){this.writerOptions.state=t.OpenTag,I=this.writer.indent(A,this.writerOptions,this.currentLevel)+"<"+A.name,j=A.attribs;for(q in j)!_.call(j,q)||(T=j[q],I+=this.writer.attribute(T,this.writerOptions,this.currentLevel));I+=(A.children?">":"/>")+this.writer.endline(A,this.writerOptions,this.currentLevel),this.writerOptions.state=t.InsideTag}else this.writerOptions.state=t.OpenTag,I=this.writer.indent(A,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+A.rootNodeName,A.pubID&&A.sysID?I+=' PUBLIC "'+A.pubID+'" "'+A.sysID+'"':A.sysID&&(I+=' SYSTEM "'+A.sysID+'"'),A.children?(I+=" [",this.writerOptions.state=t.InsideTag):(this.writerOptions.state=t.CloseTag,I+=">"),I+=this.writer.endline(A,this.writerOptions,this.currentLevel);return this.onData(I,this.currentLevel),A.isOpen=!0}},N.prototype.closeNode=function(A){var T;if(!A.isClosed)return T="",this.writerOptions.state=t.CloseTag,A.type===e.Element?T=this.writer.indent(A,this.writerOptions,this.currentLevel)+"</"+A.name+">"+this.writer.endline(A,this.writerOptions,this.currentLevel):T=this.writer.indent(A,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(A,this.writerOptions,this.currentLevel),this.writerOptions.state=t.None,this.onData(T,this.currentLevel),A.isClosed=!0},N.prototype.onData=function(A,T){return this.documentStarted=!0,this.onDataCallback(A,T+1)},N.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},N.prototype.debugInfo=function(A){return A==null?"":"node: <"+A+">"},N.prototype.ele=function(){return this.element.apply(this,arguments)},N.prototype.nod=function(A,T,I){return this.node(A,T,I)},N.prototype.txt=function(A){return this.text(A)},N.prototype.dat=function(A){return this.cdata(A)},N.prototype.com=function(A){return this.comment(A)},N.prototype.ins=function(A,T){return this.instruction(A,T)},N.prototype.dec=function(A,T,I){return this.declaration(A,T,I)},N.prototype.dtd=function(A,T,I){return this.doctype(A,T,I)},N.prototype.e=function(A,T,I){return this.element(A,T,I)},N.prototype.n=function(A,T,I){return this.node(A,T,I)},N.prototype.t=function(A){return this.text(A)},N.prototype.d=function(A){return this.cdata(A)},N.prototype.c=function(A){return this.comment(A)},N.prototype.r=function(A){return this.raw(A)},N.prototype.i=function(A,T){return this.instruction(A,T)},N.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.ent=function(A,T){return this.entity(A,T)},N.prototype.pent=function(A,T){return this.pEntity(A,T)},N.prototype.not=function(A,T){return this.notation(A,T)},N}()}).call(xu)});var Mu=L((Lu,Ru)=>{(function(){var e,t,r,n,i=function(s,a){for(var l in a)o.call(a,l)&&(s[l]=a[l]);function y(){this.constructor=s}return y.prototype=a.prototype,s.prototype=new y,s.__super__=a.prototype,s},o={}.hasOwnProperty;e=Z(),n=fi(),t=Ee(),Ru.exports=r=function(s){i(a,s);function a(l,y){this.stream=l,a.__super__.constructor.call(this,y)}return a.prototype.endline=function(l,y,g){return l.isLastRootNode&&y.state===t.CloseTag?"":a.__super__.endline.call(this,l,y,g)},a.prototype.document=function(l,y){var g,b,c,m,d,v,C,P,R;for(C=l.children,b=c=0,d=C.length;c<d;b=++c)g=C[b],g.isLastRootNode=b===l.children.length-1;for(y=this.filterOptions(y),P=l.children,R=[],m=0,v=P.length;m<v;m++)g=P[m],R.push(this.writeChildNode(g,y,0));return R},a.prototype.attribute=function(l,y,g){return this.stream.write(a.__super__.attribute.call(this,l,y,g))},a.prototype.cdata=function(l,y,g){return this.stream.write(a.__super__.cdata.call(this,l,y,g))},a.prototype.comment=function(l,y,g){return this.stream.write(a.__super__.comment.call(this,l,y,g))},a.prototype.declaration=function(l,y,g){return this.stream.write(a.__super__.declaration.call(this,l,y,g))},a.prototype.docType=function(l,y,g){var b,c,m,d;if(g||(g=0),this.openNode(l,y,g),y.state=t.OpenTag,this.stream.write(this.indent(l,y,g)),this.stream.write("<!DOCTYPE "+l.root().name),l.pubID&&l.sysID?this.stream.write(' PUBLIC "'+l.pubID+'" "'+l.sysID+'"'):l.sysID&&this.stream.write(' SYSTEM "'+l.sysID+'"'),l.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(l,y,g)),y.state=t.InsideTag,d=l.children,c=0,m=d.length;c<m;c++)b=d[c],this.writeChildNode(b,y,g+1);y.state=t.CloseTag,this.stream.write("]")}return y.state=t.CloseTag,this.stream.write(y.spaceBeforeSlash+">"),this.stream.write(this.endline(l,y,g)),y.state=t.None,this.closeNode(l,y,g)},a.prototype.element=function(l,y,g){var b,c,m,d,v,C,P,R,E,p;g||(g=0),this.openNode(l,y,g),y.state=t.OpenTag,this.stream.write(this.indent(l,y,g)+"<"+l.name),E=l.attribs;for(P in E)!o.call(E,P)||(b=E[P],this.attribute(b,y,g));if(m=l.children.length,d=m===0?null:l.children[0],m===0||l.children.every(function(u){return(u.type===e.Text||u.type===e.Raw)&&u.value===""}))y.allowEmpty?(this.stream.write(">"),y.state=t.CloseTag,this.stream.write("</"+l.name+">")):(y.state=t.CloseTag,this.stream.write(y.spaceBeforeSlash+"/>"));else if(y.pretty&&m===1&&(d.type===e.Text||d.type===e.Raw)&&d.value!=null)this.stream.write(">"),y.state=t.InsideTag,y.suppressPrettyCount++,R=!0,this.writeChildNode(d,y,g+1),y.suppressPrettyCount--,R=!1,y.state=t.CloseTag,this.stream.write("</"+l.name+">");else{for(this.stream.write(">"+this.endline(l,y,g)),y.state=t.InsideTag,p=l.children,v=0,C=p.length;v<C;v++)c=p[v],this.writeChildNode(c,y,g+1);y.state=t.CloseTag,this.stream.write(this.indent(l,y,g)+"</"+l.name+">")}return this.stream.write(this.endline(l,y,g)),y.state=t.None,this.closeNode(l,y,g)},a.prototype.processingInstruction=function(l,y,g){return this.stream.write(a.__super__.processingInstruction.call(this,l,y,g))},a.prototype.raw=function(l,y,g){return this.stream.write(a.__super__.raw.call(this,l,y,g))},a.prototype.text=function(l,y,g){return this.stream.write(a.__super__.text.call(this,l,y,g))},a.prototype.dtdAttList=function(l,y,g){return this.stream.write(a.__super__.dtdAttList.call(this,l,y,g))},a.prototype.dtdElement=function(l,y,g){return this.stream.write(a.__super__.dtdElement.call(this,l,y,g))},a.prototype.dtdEntity=function(l,y,g){return this.stream.write(a.__super__.dtdEntity.call(this,l,y,g))},a.prototype.dtdNotation=function(l,y,g){return this.stream.write(a.__super__.dtdNotation.call(this,l,y,g))},a}(n)}).call(Lu)});var qu=L((Fu,kt)=>{(function(){var e,t,r,n,i,o,s,a,l,y;y=Tt(),a=y.assign,l=y.isFunction,r=ai(),n=pi(),i=Iu(),s=dr(),o=Mu(),e=Z(),t=Ee(),kt.exports.create=function(g,b,c,m){var d,v;if(g==null)throw new Error("Root element needs a name.");return m=a({},b,c,m),d=new n(m),v=d.element(g),m.headless||(d.declaration(m),(m.pubID!=null||m.sysID!=null)&&d.dtd(m)),v},kt.exports.begin=function(g,b,c){var m;return l(g)&&(m=[g,b],b=m[0],c=m[1],g={}),b?new i(g,b,c):new n(g)},kt.exports.stringWriter=function(g){return new s(g)},kt.exports.streamWriter=function(g,b){return new o(g,b)},kt.exports.implementation=new r,kt.exports.nodeType=e,kt.exports.writerState=t}).call(Fu)});var ku=L(hi=>{(function(){"use strict";var e,t,r,n,i,o={}.hasOwnProperty;e=qu(),t=tr().defaults,n=function(s){return typeof s=="string"&&(s.indexOf("&")>=0||s.indexOf(">")>=0||s.indexOf("<")>=0)},i=function(s){return"<![CDATA["+r(s)+"]]>"},r=function(s){return s.replace("]]>","]]]]><![CDATA[>")},hi.Builder=function(){function s(a){var l,y,g;this.options={},y=t["0.2"];for(l in y)!o.call(y,l)||(g=y[l],this.options[l]=g);for(l in a)!o.call(a,l)||(g=a[l],this.options[l]=g)}return s.prototype.buildObject=function(a){var l,y,g,b,c;return l=this.options.attrkey,y=this.options.charkey,Object.keys(a).length===1&&this.options.rootName===t["0.2"].rootName?(c=Object.keys(a)[0],a=a[c]):c=this.options.rootName,g=function(m){return function(d,v){var C,P,R,E,p,u;if(typeof v!="object")m.options.cdata&&n(v)?d.raw(i(v)):d.txt(v);else if(Array.isArray(v)){for(E in v)if(!!o.call(v,E)){P=v[E];for(p in P)R=P[p],d=g(d.ele(p),R).up()}}else for(p in v)if(!!o.call(v,p))if(P=v[p],p===l){if(typeof P=="object")for(C in P)u=P[C],d=d.att(C,u)}else if(p===y)m.options.cdata&&n(P)?d=d.raw(i(P)):d=d.txt(P);else if(Array.isArray(P))for(E in P)!o.call(P,E)||(R=P[E],typeof R=="string"?m.options.cdata&&n(R)?d=d.ele(p).raw(i(R)).up():d=d.ele(p,R).up():d=g(d.ele(p),R).up());else typeof P=="object"?d=g(d.ele(p),P).up():typeof P=="string"&&m.options.cdata&&n(P)?d=d.ele(p).raw(i(P)).up():(P==null&&(P=""),d=d.ele(p,P.toString()).up());return d}}(this),b=e.create(c,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),g(b,a).end(this.options.renderOpts)},s}()}).call(hi)});var Bu=L(yr=>{(function(e){e.parser=function(h,f){return new r(h,f)},e.SAXParser=r,e.SAXStream=y,e.createStream=l,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(h,f){if(!(this instanceof r))return new r(h,f);var M=this;i(M),M.q=M.c="",M.bufferCheckPosition=e.MAX_BUFFER_LENGTH,M.opt=f||{},M.opt.lowercase=M.opt.lowercase||M.opt.lowercasetags,M.looseCase=M.opt.lowercase?"toLowerCase":"toUpperCase",M.tags=[],M.closed=M.closedRoot=M.sawRoot=!1,M.tag=M.error=null,M.strict=!!h,M.noscript=!!(h||M.opt.noscript),M.state=_.BEGIN,M.strictEntities=M.opt.strictEntities,M.ENTITIES=M.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),M.attribList=[],M.opt.xmlns&&(M.ns=Object.create(d)),M.trackPosition=M.opt.position!==!1,M.trackPosition&&(M.position=M.line=M.column=0),A(M,"onready")}Object.create||(Object.create=function(h){function f(){}f.prototype=h;var M=new f;return M}),Object.keys||(Object.keys=function(h){var f=[];for(var M in h)h.hasOwnProperty(M)&&f.push(M);return f});function n(h){for(var f=Math.max(e.MAX_BUFFER_LENGTH,10),M=0,S=0,H=t.length;S<H;S++){var F=h[t[S]].length;if(F>f)switch(t[S]){case"textNode":I(h);break;case"cdata":T(h,"oncdata",h.cdata),h.cdata="";break;case"script":T(h,"onscript",h.script),h.script="";break;default:j(h,"Max buffer length exceeded: "+t[S])}M=Math.max(M,F)}var B=e.MAX_BUFFER_LENGTH-M;h.bufferCheckPosition=B+h.position}function i(h){for(var f=0,M=t.length;f<M;f++)h[t[f]]=""}function o(h){I(h),h.cdata!==""&&(T(h,"oncdata",h.cdata),h.cdata=""),h.script!==""&&(T(h,"onscript",h.script),h.script="")}r.prototype={end:function(){x(this)},write:St,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var s;try{s=require("stream").Stream}catch{s=function(){}}var a=e.EVENTS.filter(function(h){return h!=="error"&&h!=="end"});function l(h,f){return new y(h,f)}function y(h,f){if(!(this instanceof y))return new y(h,f);s.apply(this),this._parser=new r(h,f),this.writable=!0,this.readable=!0;var M=this;this._parser.onend=function(){M.emit("end")},this._parser.onerror=function(S){M.emit("error",S),M._parser.error=null},this._decoder=null,a.forEach(function(S){Object.defineProperty(M,"on"+S,{get:function(){return M._parser["on"+S]},set:function(H){if(!H)return M.removeAllListeners(S),M._parser["on"+S]=H,H;M.on(S,H)},enumerable:!0,configurable:!1})})}y.prototype=Object.create(s.prototype,{constructor:{value:y}}),y.prototype.write=function(h){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(h)){if(!this._decoder){var f=require("string_decoder").StringDecoder;this._decoder=new f("utf8")}h=this._decoder.write(h)}return this._parser.write(h.toString()),this.emit("data",h),!0},y.prototype.end=function(h){return h&&h.length&&this.write(h),this._parser.end(),!0},y.prototype.on=function(h,f){var M=this;return!M._parser["on"+h]&&a.indexOf(h)!==-1&&(M._parser["on"+h]=function(){var S=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);S.splice(0,0,h),M.emit.apply(M,S)}),s.prototype.on.call(M,h,f)};var g="[CDATA[",b="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",d={xml:c,xmlns:m},v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,P=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function E(h){return h===" "||h===`
`||h==="\r"||h==="	"}function p(h){return h==='"'||h==="'"}function u(h){return h===">"||E(h)}function w(h,f){return h.test(f)}function O(h,f){return!w(h,f)}var _=0;e.STATE={BEGIN:_++,BEGIN_WHITESPACE:_++,TEXT:_++,TEXT_ENTITY:_++,OPEN_WAKA:_++,SGML_DECL:_++,SGML_DECL_QUOTED:_++,DOCTYPE:_++,DOCTYPE_QUOTED:_++,DOCTYPE_DTD:_++,DOCTYPE_DTD_QUOTED:_++,COMMENT_STARTING:_++,COMMENT:_++,COMMENT_ENDING:_++,COMMENT_ENDED:_++,CDATA:_++,CDATA_ENDING:_++,CDATA_ENDING_2:_++,PROC_INST:_++,PROC_INST_BODY:_++,PROC_INST_ENDING:_++,OPEN_TAG:_++,OPEN_TAG_SLASH:_++,ATTRIB:_++,ATTRIB_NAME:_++,ATTRIB_NAME_SAW_WHITE:_++,ATTRIB_VALUE:_++,ATTRIB_VALUE_QUOTED:_++,ATTRIB_VALUE_CLOSED:_++,ATTRIB_VALUE_UNQUOTED:_++,ATTRIB_VALUE_ENTITY_Q:_++,ATTRIB_VALUE_ENTITY_U:_++,CLOSE_TAG:_++,CLOSE_TAG_SAW_WHITE:_++,SCRIPT:_++,SCRIPT_ENDING:_++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(h){var f=e.ENTITIES[h],M=typeof f=="number"?String.fromCharCode(f):f;e.ENTITIES[h]=M});for(var N in e.STATE)e.STATE[e.STATE[N]]=N;_=e.STATE;function A(h,f,M){h[f]&&h[f](M)}function T(h,f,M){h.textNode&&I(h),A(h,f,M)}function I(h){h.textNode=q(h.opt,h.textNode),h.textNode&&A(h,"ontext",h.textNode),h.textNode=""}function q(h,f){return h.trim&&(f=f.trim()),h.normalize&&(f=f.replace(/\s+/g," ")),f}function j(h,f){return I(h),h.trackPosition&&(f+=`
Line: `+h.line+`
Column: `+h.column+`
Char: `+h.c),f=new Error(f),h.error=f,A(h,"onerror",f),h}function x(h){return h.sawRoot&&!h.closedRoot&&D(h,"Unclosed root tag"),h.state!==_.BEGIN&&h.state!==_.BEGIN_WHITESPACE&&h.state!==_.TEXT&&j(h,"Unexpected end"),I(h),h.c="",h.closed=!0,A(h,"onend"),r.call(h,h.strict,h.opt),h}function D(h,f){if(typeof h!="object"||!(h instanceof r))throw new Error("bad call to strictFail");h.strict&&j(h,f)}function U(h){h.strict||(h.tagName=h.tagName[h.looseCase]());var f=h.tags[h.tags.length-1]||h,M=h.tag={name:h.tagName,attributes:{}};h.opt.xmlns&&(M.ns=f.ns),h.attribList.length=0,T(h,"onopentagstart",M)}function k(h,f){var M=h.indexOf(":"),S=M<0?["",h]:h.split(":"),H=S[0],F=S[1];return f&&h==="xmlns"&&(H="xmlns",F=""),{prefix:H,local:F}}function tt(h){if(h.strict||(h.attribName=h.attribName[h.looseCase]()),h.attribList.indexOf(h.attribName)!==-1||h.tag.attributes.hasOwnProperty(h.attribName)){h.attribName=h.attribValue="";return}if(h.opt.xmlns){var f=k(h.attribName,!0),M=f.prefix,S=f.local;if(M==="xmlns")if(S==="xml"&&h.attribValue!==c)D(h,"xml: prefix must be bound to "+c+`
Actual: `+h.attribValue);else if(S==="xmlns"&&h.attribValue!==m)D(h,"xmlns: prefix must be bound to "+m+`
Actual: `+h.attribValue);else{var H=h.tag,F=h.tags[h.tags.length-1]||h;H.ns===F.ns&&(H.ns=Object.create(F.ns)),H.ns[S]=h.attribValue}h.attribList.push([h.attribName,h.attribValue])}else h.tag.attributes[h.attribName]=h.attribValue,T(h,"onattribute",{name:h.attribName,value:h.attribValue});h.attribName=h.attribValue=""}function K(h,f){if(h.opt.xmlns){var M=h.tag,S=k(h.tagName);M.prefix=S.prefix,M.local=S.local,M.uri=M.ns[S.prefix]||"",M.prefix&&!M.uri&&(D(h,"Unbound namespace prefix: "+JSON.stringify(h.tagName)),M.uri=S.prefix);var H=h.tags[h.tags.length-1]||h;M.ns&&H.ns!==M.ns&&Object.keys(M.ns).forEach(function(Ni){T(h,"onopennamespace",{prefix:Ni,uri:M.ns[Ni]})});for(var F=0,B=h.attribList.length;F<B;F++){var X=h.attribList[F],V=X[0],G=X[1],J=k(V,!0),at=J.prefix,Nc=J.local,Di=at===""?"":M.ns[at]||"",Ar={name:V,value:G,prefix:at,local:Nc,uri:Di};at&&at!=="xmlns"&&!Di&&(D(h,"Unbound namespace prefix: "+JSON.stringify(at)),Ar.uri=at),h.tag.attributes[V]=Ar,T(h,"onattribute",Ar)}h.attribList.length=0}h.tag.isSelfClosing=!!f,h.sawRoot=!0,h.tags.push(h.tag),T(h,"onopentag",h.tag),f||(!h.noscript&&h.tagName.toLowerCase()==="script"?h.state=_.SCRIPT:h.state=_.TEXT,h.tag=null,h.tagName=""),h.attribName=h.attribValue="",h.attribList.length=0}function et(h){if(!h.tagName){D(h,"Weird empty close tag."),h.textNode+="</>",h.state=_.TEXT;return}if(h.script){if(h.tagName!=="script"){h.script+="</"+h.tagName+">",h.tagName="",h.state=_.SCRIPT;return}T(h,"onscript",h.script),h.script=""}var f=h.tags.length,M=h.tagName;h.strict||(M=M[h.looseCase]());for(var S=M;f--;){var H=h.tags[f];if(H.name!==S)D(h,"Unexpected close tag");else break}if(f<0){D(h,"Unmatched closing tag: "+h.tagName),h.textNode+="</"+h.tagName+">",h.state=_.TEXT;return}h.tagName=M;for(var F=h.tags.length;F-- >f;){var B=h.tag=h.tags.pop();h.tagName=h.tag.name,T(h,"onclosetag",h.tagName);var X={};for(var V in B.ns)X[V]=B.ns[V];var G=h.tags[h.tags.length-1]||h;h.opt.xmlns&&B.ns!==G.ns&&Object.keys(B.ns).forEach(function(J){var at=B.ns[J];T(h,"onclosenamespace",{prefix:J,uri:at})})}f===0&&(h.closedRoot=!0),h.tagName=h.attribValue=h.attribName="",h.attribList.length=0,h.state=_.TEXT}function Zt(h){var f=h.entity,M=f.toLowerCase(),S,H="";return h.ENTITIES[f]?h.ENTITIES[f]:h.ENTITIES[M]?h.ENTITIES[M]:(f=M,f.charAt(0)==="#"&&(f.charAt(1)==="x"?(f=f.slice(2),S=parseInt(f,16),H=S.toString(16)):(f=f.slice(1),S=parseInt(f,10),H=S.toString(10))),f=f.replace(/^0+/,""),isNaN(S)||H.toLowerCase()!==f?(D(h,"Invalid character entity"),"&"+h.entity+";"):String.fromCodePoint(S))}function Se(h,f){f==="<"?(h.state=_.OPEN_WAKA,h.startTagPosition=h.position):E(f)||(D(h,"Non-whitespace before first tag."),h.textNode=f,h.state=_.TEXT)}function jt(h,f){var M="";return f<h.length&&(M=h.charAt(f)),M}function St(h){var f=this;if(this.error)throw this.error;if(f.closed)return j(f,"Cannot write after close. Assign an onready handler.");if(h===null)return x(f);typeof h=="object"&&(h=h.toString());for(var M=0,S="";S=jt(h,M++),f.c=S,!!S;)switch(f.trackPosition&&(f.position++,S===`
`?(f.line++,f.column=0):f.column++),f.state){case _.BEGIN:if(f.state=_.BEGIN_WHITESPACE,S==="\uFEFF")continue;Se(f,S);continue;case _.BEGIN_WHITESPACE:Se(f,S);continue;case _.TEXT:if(f.sawRoot&&!f.closedRoot){for(var H=M-1;S&&S!=="<"&&S!=="&";)S=jt(h,M++),S&&f.trackPosition&&(f.position++,S===`
`?(f.line++,f.column=0):f.column++);f.textNode+=h.substring(H,M-1)}S==="<"&&!(f.sawRoot&&f.closedRoot&&!f.strict)?(f.state=_.OPEN_WAKA,f.startTagPosition=f.position):(!E(S)&&(!f.sawRoot||f.closedRoot)&&D(f,"Text data outside of root node."),S==="&"?f.state=_.TEXT_ENTITY:f.textNode+=S);continue;case _.SCRIPT:S==="<"?f.state=_.SCRIPT_ENDING:f.script+=S;continue;case _.SCRIPT_ENDING:S==="/"?f.state=_.CLOSE_TAG:(f.script+="<"+S,f.state=_.SCRIPT);continue;case _.OPEN_WAKA:if(S==="!")f.state=_.SGML_DECL,f.sgmlDecl="";else if(!E(S))if(w(v,S))f.state=_.OPEN_TAG,f.tagName=S;else if(S==="/")f.state=_.CLOSE_TAG,f.tagName="";else if(S==="?")f.state=_.PROC_INST,f.procInstName=f.procInstBody="";else{if(D(f,"Unencoded <"),f.startTagPosition+1<f.position){var F=f.position-f.startTagPosition;S=new Array(F).join(" ")+S}f.textNode+="<"+S,f.state=_.TEXT}continue;case _.SGML_DECL:(f.sgmlDecl+S).toUpperCase()===g?(T(f,"onopencdata"),f.state=_.CDATA,f.sgmlDecl="",f.cdata=""):f.sgmlDecl+S==="--"?(f.state=_.COMMENT,f.comment="",f.sgmlDecl=""):(f.sgmlDecl+S).toUpperCase()===b?(f.state=_.DOCTYPE,(f.doctype||f.sawRoot)&&D(f,"Inappropriately located doctype declaration"),f.doctype="",f.sgmlDecl=""):S===">"?(T(f,"onsgmldeclaration",f.sgmlDecl),f.sgmlDecl="",f.state=_.TEXT):(p(S)&&(f.state=_.SGML_DECL_QUOTED),f.sgmlDecl+=S);continue;case _.SGML_DECL_QUOTED:S===f.q&&(f.state=_.SGML_DECL,f.q=""),f.sgmlDecl+=S;continue;case _.DOCTYPE:S===">"?(f.state=_.TEXT,T(f,"ondoctype",f.doctype),f.doctype=!0):(f.doctype+=S,S==="["?f.state=_.DOCTYPE_DTD:p(S)&&(f.state=_.DOCTYPE_QUOTED,f.q=S));continue;case _.DOCTYPE_QUOTED:f.doctype+=S,S===f.q&&(f.q="",f.state=_.DOCTYPE);continue;case _.DOCTYPE_DTD:f.doctype+=S,S==="]"?f.state=_.DOCTYPE:p(S)&&(f.state=_.DOCTYPE_DTD_QUOTED,f.q=S);continue;case _.DOCTYPE_DTD_QUOTED:f.doctype+=S,S===f.q&&(f.state=_.DOCTYPE_DTD,f.q="");continue;case _.COMMENT:S==="-"?f.state=_.COMMENT_ENDING:f.comment+=S;continue;case _.COMMENT_ENDING:S==="-"?(f.state=_.COMMENT_ENDED,f.comment=q(f.opt,f.comment),f.comment&&T(f,"oncomment",f.comment),f.comment=""):(f.comment+="-"+S,f.state=_.COMMENT);continue;case _.COMMENT_ENDED:S!==">"?(D(f,"Malformed comment"),f.comment+="--"+S,f.state=_.COMMENT):f.state=_.TEXT;continue;case _.CDATA:S==="]"?f.state=_.CDATA_ENDING:f.cdata+=S;continue;case _.CDATA_ENDING:S==="]"?f.state=_.CDATA_ENDING_2:(f.cdata+="]"+S,f.state=_.CDATA);continue;case _.CDATA_ENDING_2:S===">"?(f.cdata&&T(f,"oncdata",f.cdata),T(f,"onclosecdata"),f.cdata="",f.state=_.TEXT):S==="]"?f.cdata+="]":(f.cdata+="]]"+S,f.state=_.CDATA);continue;case _.PROC_INST:S==="?"?f.state=_.PROC_INST_ENDING:E(S)?f.state=_.PROC_INST_BODY:f.procInstName+=S;continue;case _.PROC_INST_BODY:if(!f.procInstBody&&E(S))continue;S==="?"?f.state=_.PROC_INST_ENDING:f.procInstBody+=S;continue;case _.PROC_INST_ENDING:S===">"?(T(f,"onprocessinginstruction",{name:f.procInstName,body:f.procInstBody}),f.procInstName=f.procInstBody="",f.state=_.TEXT):(f.procInstBody+="?"+S,f.state=_.PROC_INST_BODY);continue;case _.OPEN_TAG:w(C,S)?f.tagName+=S:(U(f),S===">"?K(f):S==="/"?f.state=_.OPEN_TAG_SLASH:(E(S)||D(f,"Invalid character in tag name"),f.state=_.ATTRIB));continue;case _.OPEN_TAG_SLASH:S===">"?(K(f,!0),et(f)):(D(f,"Forward-slash in opening tag not followed by >"),f.state=_.ATTRIB);continue;case _.ATTRIB:if(E(S))continue;S===">"?K(f):S==="/"?f.state=_.OPEN_TAG_SLASH:w(v,S)?(f.attribName=S,f.attribValue="",f.state=_.ATTRIB_NAME):D(f,"Invalid attribute name");continue;case _.ATTRIB_NAME:S==="="?f.state=_.ATTRIB_VALUE:S===">"?(D(f,"Attribute without value"),f.attribValue=f.attribName,tt(f),K(f)):E(S)?f.state=_.ATTRIB_NAME_SAW_WHITE:w(C,S)?f.attribName+=S:D(f,"Invalid attribute name");continue;case _.ATTRIB_NAME_SAW_WHITE:if(S==="=")f.state=_.ATTRIB_VALUE;else{if(E(S))continue;D(f,"Attribute without value"),f.tag.attributes[f.attribName]="",f.attribValue="",T(f,"onattribute",{name:f.attribName,value:""}),f.attribName="",S===">"?K(f):w(v,S)?(f.attribName=S,f.state=_.ATTRIB_NAME):(D(f,"Invalid attribute name"),f.state=_.ATTRIB)}continue;case _.ATTRIB_VALUE:if(E(S))continue;p(S)?(f.q=S,f.state=_.ATTRIB_VALUE_QUOTED):(D(f,"Unquoted attribute value"),f.state=_.ATTRIB_VALUE_UNQUOTED,f.attribValue=S);continue;case _.ATTRIB_VALUE_QUOTED:if(S!==f.q){S==="&"?f.state=_.ATTRIB_VALUE_ENTITY_Q:f.attribValue+=S;continue}tt(f),f.q="",f.state=_.ATTRIB_VALUE_CLOSED;continue;case _.ATTRIB_VALUE_CLOSED:E(S)?f.state=_.ATTRIB:S===">"?K(f):S==="/"?f.state=_.OPEN_TAG_SLASH:w(v,S)?(D(f,"No whitespace between attributes"),f.attribName=S,f.attribValue="",f.state=_.ATTRIB_NAME):D(f,"Invalid attribute name");continue;case _.ATTRIB_VALUE_UNQUOTED:if(!u(S)){S==="&"?f.state=_.ATTRIB_VALUE_ENTITY_U:f.attribValue+=S;continue}tt(f),S===">"?K(f):f.state=_.ATTRIB;continue;case _.CLOSE_TAG:if(f.tagName)S===">"?et(f):w(C,S)?f.tagName+=S:f.script?(f.script+="</"+f.tagName,f.tagName="",f.state=_.SCRIPT):(E(S)||D(f,"Invalid tagname in closing tag"),f.state=_.CLOSE_TAG_SAW_WHITE);else{if(E(S))continue;O(v,S)?f.script?(f.script+="</"+S,f.state=_.SCRIPT):D(f,"Invalid tagname in closing tag."):f.tagName=S}continue;case _.CLOSE_TAG_SAW_WHITE:if(E(S))continue;S===">"?et(f):D(f,"Invalid characters in closing tag");continue;case _.TEXT_ENTITY:case _.ATTRIB_VALUE_ENTITY_Q:case _.ATTRIB_VALUE_ENTITY_U:var B,X;switch(f.state){case _.TEXT_ENTITY:B=_.TEXT,X="textNode";break;case _.ATTRIB_VALUE_ENTITY_Q:B=_.ATTRIB_VALUE_QUOTED,X="attribValue";break;case _.ATTRIB_VALUE_ENTITY_U:B=_.ATTRIB_VALUE_UNQUOTED,X="attribValue";break}S===";"?(f[X]+=Zt(f),f.entity="",f.state=B):w(f.entity.length?R:P,S)?f.entity+=S:(D(f,"Invalid character in entity name"),f[X]+="&"+f.entity+S,f.entity="",f.state=B);continue;default:throw new Error(f,"Unknown state: "+f.state)}return f.position>=f.bufferCheckPosition&&n(f),f}String.fromCodePoint||function(){var h=String.fromCharCode,f=Math.floor,M=function(){var S=16384,H=[],F,B,X=-1,V=arguments.length;if(!V)return"";for(var G="";++X<V;){var J=Number(arguments[X]);if(!isFinite(J)||J<0||J>1114111||f(J)!==J)throw RangeError("Invalid code point: "+J);J<=65535?H.push(J):(J-=65536,F=(J>>10)+55296,B=J%1024+56320,H.push(F,B)),(X+1===V||H.length>S)&&(G+=h.apply(null,H),H.length=0)}return G};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:M,configurable:!0,writable:!0}):String.fromCodePoint=M}()})(typeof yr>"u"?yr.sax={}:yr)});var Hu=L(di=>{(function(){"use strict";di.stripBOM=function(e){return e[0]==="\uFEFF"?e.substring(1):e}}).call(di)});var yi=L(Wt=>{(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),Wt.normalize=function(t){return t.toLowerCase()},Wt.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},Wt.stripPrefix=function(t){return t.replace(e,"")},Wt.parseNumbers=function(t){return isNaN(t)||(t=t%1===0?parseInt(t,10):parseFloat(t)),t},Wt.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t=t.toLowerCase()==="true"),t}}).call(Wt)});var ju=L(Dt=>{(function(){"use strict";var e,t,r,n,i,o,s,a,l=function(b,c){return function(){return b.apply(c,arguments)}},y=function(b,c){for(var m in c)g.call(c,m)&&(b[m]=c[m]);function d(){this.constructor=b}return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},g={}.hasOwnProperty;s=Bu(),r=require("events"),e=Hu(),o=yi(),a=require("timers").setImmediate,t=tr().defaults,n=function(b){return typeof b=="object"&&b!=null&&Object.keys(b).length===0},i=function(b,c,m){var d,v,C;for(d=0,v=b.length;d<v;d++)C=b[d],c=C(c,m);return c},Dt.Parser=function(b){y(c,b);function c(m){this.parseStringPromise=l(this.parseStringPromise,this),this.parseString=l(this.parseString,this),this.reset=l(this.reset,this),this.assignOrPush=l(this.assignOrPush,this),this.processAsync=l(this.processAsync,this);var d,v,C;if(!(this instanceof Dt.Parser))return new Dt.Parser(m);this.options={},v=t["0.2"];for(d in v)!g.call(v,d)||(C=v[d],this.options[d]=C);for(d in m)!g.call(m,d)||(C=m[d],this.options[d]=C);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(o.normalize)),this.reset()}return c.prototype.processAsync=function(){var m,d;try{return this.remaining.length<=this.options.chunkSize?(m=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(m),this.saxParser.close()):(m=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(m),a(this.processAsync))}catch(v){if(d=v,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(d)}},c.prototype.assignOrPush=function(m,d,v){return d in m?(m[d]instanceof Array||(m[d]=[m[d]]),m[d].push(v)):this.options.explicitArray?m[d]=[v]:m[d]=v},c.prototype.reset=function(){var m,d,v,C;return this.removeAllListeners(),this.saxParser=s.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(P){return function(R){if(P.saxParser.resume(),!P.saxParser.errThrown)return P.saxParser.errThrown=!0,P.emit("error",R)}}(this),this.saxParser.onend=function(P){return function(){if(!P.saxParser.ended)return P.saxParser.ended=!0,P.emit("end",P.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,C=[],m=this.options.attrkey,d=this.options.charkey,this.saxParser.onopentag=function(P){return function(R){var E,p,u,w,O;if(u={},u[d]="",!P.options.ignoreAttrs){O=R.attributes;for(E in O)!g.call(O,E)||(!(m in u)&&!P.options.mergeAttrs&&(u[m]={}),p=P.options.attrValueProcessors?i(P.options.attrValueProcessors,R.attributes[E],E):R.attributes[E],w=P.options.attrNameProcessors?i(P.options.attrNameProcessors,E):E,P.options.mergeAttrs?P.assignOrPush(u,w,p):u[m][w]=p)}return u["#name"]=P.options.tagNameProcessors?i(P.options.tagNameProcessors,R.name):R.name,P.options.xmlns&&(u[P.options.xmlnskey]={uri:R.uri,local:R.local}),C.push(u)}}(this),this.saxParser.onclosetag=function(P){return function(){var R,E,p,u,w,O,_,N,A,T;if(O=C.pop(),w=O["#name"],(!P.options.explicitChildren||!P.options.preserveChildrenOrder)&&delete O["#name"],O.cdata===!0&&(R=O.cdata,delete O.cdata),A=C[C.length-1],O[d].match(/^\s*$/)&&!R?(E=O[d],delete O[d]):(P.options.trim&&(O[d]=O[d].trim()),P.options.normalize&&(O[d]=O[d].replace(/\s{2,}/g," ").trim()),O[d]=P.options.valueProcessors?i(P.options.valueProcessors,O[d],w):O[d],Object.keys(O).length===1&&d in O&&!P.EXPLICIT_CHARKEY&&(O=O[d])),n(O)&&(O=P.options.emptyTag!==""?P.options.emptyTag:E),P.options.validator!=null&&(T="/"+function(){var I,q,j;for(j=[],I=0,q=C.length;I<q;I++)u=C[I],j.push(u["#name"]);return j}().concat(w).join("/"),function(){var I;try{return O=P.options.validator(T,A&&A[w],O)}catch(q){return I=q,P.emit("error",I)}}()),P.options.explicitChildren&&!P.options.mergeAttrs&&typeof O=="object"){if(!P.options.preserveChildrenOrder)u={},P.options.attrkey in O&&(u[P.options.attrkey]=O[P.options.attrkey],delete O[P.options.attrkey]),!P.options.charsAsChildren&&P.options.charkey in O&&(u[P.options.charkey]=O[P.options.charkey],delete O[P.options.charkey]),Object.getOwnPropertyNames(O).length>0&&(u[P.options.childkey]=O),O=u;else if(A){A[P.options.childkey]=A[P.options.childkey]||[],_={};for(p in O)!g.call(O,p)||(_[p]=O[p]);A[P.options.childkey].push(_),delete O["#name"],Object.keys(O).length===1&&d in O&&!P.EXPLICIT_CHARKEY&&(O=O[d])}}return C.length>0?P.assignOrPush(A,w,O):(P.options.explicitRoot&&(N=O,O={},O[w]=N),P.resultObject=O,P.saxParser.ended=!0,P.emit("end",P.resultObject))}}(this),v=function(P){return function(R){var E,p;if(p=C[C.length-1],p)return p[d]+=R,P.options.explicitChildren&&P.options.preserveChildrenOrder&&P.options.charsAsChildren&&(P.options.includeWhiteChars||R.replace(/\\n/g,"").trim()!=="")&&(p[P.options.childkey]=p[P.options.childkey]||[],E={"#name":"__text__"},E[d]=R,P.options.normalize&&(E[d]=E[d].replace(/\s{2,}/g," ").trim()),p[P.options.childkey].push(E)),p}}(this),this.saxParser.ontext=v,this.saxParser.oncdata=function(P){return function(R){var E;if(E=v(R),E)return E.cdata=!0}}(this)},c.prototype.parseString=function(m,d){var v;d!=null&&typeof d=="function"&&(this.on("end",function(C){return this.reset(),d(null,C)}),this.on("error",function(C){return this.reset(),d(C)}));try{return m=m.toString(),m.trim()===""?(this.emit("end",null),!0):(m=e.stripBOM(m),this.options.async?(this.remaining=m,a(this.processAsync),this.saxParser):this.saxParser.write(m).close())}catch(C){if(v=C,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw v}else return this.emit("error",v),this.saxParser.errThrown=!0}},c.prototype.parseStringPromise=function(m){return new Promise(function(d){return function(v,C){return d.parseString(m,function(P,R){return P?C(P):v(R)})}}(this))},c}(r),Dt.parseString=function(b,c,m){var d,v,C;return m!=null?(typeof m=="function"&&(d=m),typeof c=="object"&&(v=c)):(typeof c=="function"&&(d=c),v={}),C=new Dt.Parser(v),C.parseString(b,d)},Dt.parseStringPromise=function(b,c){var m,d;return typeof c=="object"&&(m=c),d=new Dt.Parser(m),d.parseStringPromise(b)}}).call(Dt)});var $u=L(Nt=>{(function(){"use strict";var e,t,r,n,i=function(s,a){for(var l in a)o.call(a,l)&&(s[l]=a[l]);function y(){this.constructor=s}return y.prototype=a.prototype,s.prototype=new y,s.__super__=a.prototype,s},o={}.hasOwnProperty;t=tr(),e=ku(),r=ju(),n=yi(),Nt.defaults=t.defaults,Nt.processors=n,Nt.ValidationError=function(s){i(a,s);function a(l){this.message=l}return a}(Error),Nt.Builder=e.Builder,Nt.Parser=r.Parser,Nt.parseString=r.parseString,Nt.parseStringPromise=r.parseStringPromise}).call(Nt)});var Wu=L((Uy,Gu)=>{Gu.exports=Vu;Vu.sync=jh;var Xu=require("fs");function Hh(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function Uu(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Hh(t,r)}function Vu(e,t,r){Xu.stat(e,function(n,i){r(n,n?!1:Uu(i,e,t))})}function jh(e,t){return Uu(Xu.statSync(e),e,t)}});var zu=L((Vy,Ju)=>{Ju.exports=Ku;Ku.sync=$h;var Yu=require("fs");function Ku(e,t,r){Yu.stat(e,function(n,i){r(n,n?!1:Qu(i,t))})}function $h(e,t){return Qu(Yu.statSync(e),t)}function Qu(e,t){return e.isFile()&&Xh(e,t)}function Xh(e,t){var r=e.mode,n=e.uid,i=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),s=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8),y=parseInt("001",8),g=a|l,b=r&y||r&l&&i===s||r&a&&n===o||r&g&&o===0;return b}});var tc=L((Wy,Zu)=>{var Gy=require("fs"),mr;process.platform==="win32"||global.TESTING_WINDOWS?mr=Wu():mr=zu();Zu.exports=mi;mi.sync=Uh;function mi(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){mi(e,t||{},function(o,s){o?i(o):n(s)})})}mr(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function Uh(e,t){try{return mr.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var ac=L((Yy,oc)=>{var le=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",ec=require("path"),Vh=le?";":":",rc=tc(),nc=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),ic=(e,t)=>{let r=t.colon||Vh,n=e.match(/\//)||le&&e.match(/\\/)?[""]:[...le?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=le?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=le?i.split(r):[""];return le&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},sc=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:o}=ic(e,t),s=[],a=y=>new Promise((g,b)=>{if(y===n.length)return t.all&&s.length?g(s):b(nc(e));let c=n[y],m=/^".*"$/.test(c)?c.slice(1,-1):c,d=ec.join(m,e),v=!m&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;g(l(v,y,0))}),l=(y,g,b)=>new Promise((c,m)=>{if(b===i.length)return c(a(g+1));let d=i[b];rc(y+d,{pathExt:o},(v,C)=>{if(!v&&C)if(t.all)s.push(y+d);else return c(y+d);return c(l(y,g,b+1))})});return r?a(0).then(y=>r(null,y),r):a(0)},Gh=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=ic(e,t),o=[];for(let s=0;s<r.length;s++){let a=r[s],l=/^".*"$/.test(a)?a.slice(1,-1):a,y=ec.join(l,e),g=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+y:y;for(let b=0;b<n.length;b++){let c=g+n[b];try{if(rc.sync(c,{pathExt:i}))if(t.all)o.push(c);else return c}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw nc(e)};oc.exports=sc;sc.sync=Gh});var yd={};Mc(yd,{default:()=>Dc});module.exports=Fc(yd);var zt=require("@raycast/api");var yt=require("@raycast/api"),Kt=require("fs/promises"),uc=Sr(Ea()),pt=require("path"),cc=Sr($u()),Yt=require("os"),lc=Sr(ac()),Bt="jb.png",gr=(0,yt.getPreferenceValues)(),gi=String(gr.bin).replace("~",(0,Yt.homedir)()),we=String(gr.toolsInstall).replace("~",(0,Yt.homedir)()),_i=Boolean(gr.fallback),Wh=Boolean(gr.historic),Yh=(0,pt.resolve)((0,Yt.homedir)(),"Applications/JetBrains Toolbox/*/Contents/Resources/icon.icns"),Kh=(0,pt.resolve)(we,"apps/**/.history.json"),Qh=(0,pt.resolve)(we,"apps/**/*.app"),Jh=(0,pt.resolve)(we,".settings.json"),zh=(e,t,r)=>r.find(n=>(0,pt.dirname)(n.path).startsWith((0,pt.dirname)(e))&&(0,pt.dirname)(n.path).includes(t));function be(e,t){return(0,uc.default)(e,t).then(async r=>await Promise.all(r.map(n=>(0,Kt.lstat)(n).then(i=>({title:n.split("/").reverse()[0],path:n,isDir:i.isDirectory(),icon:i.isDirectory()?"dir":"file",lastModifiedAt:i.mtime})))))}var Zh=(e,t)=>{if(t.length==0)return t;if(typeof t[0][e]!="string")throw new Error("Not a string type");let n=new Set;return t.reduce((i,o)=>{let s=String(o[e]);return n.has(s)?i:(n.add(s),[...i,o])},[])};async function td(e,t){return(0,Kt.readFile)(e.path).then(r=>(0,cc.parseStringPromise)(r,{attrkey:"_attr"}).then(n=>(n.application.component[0].option[0].map[0].entry??[]).map(i=>{let o=(i.value[0].RecentProjectMetaInfo[0].option??[]).find(a=>a._attr.name==="projectOpenTimestamp"),s=i._attr.key.replace("$USER_HOME$",(0,Yt.homedir)());return{title:(0,pt.basename)(s),icon:t.icon??Bt,path:s,dirname:(0,pt.dirname)(s).replace((0,Yt.homedir)(),"~").replace("/Volumes",""),opened:Number(o?._attr.value??0),parts:s.substr(1).split("/").reverse().slice(1).join(" \u2190 "),appName:t.title}}).map(async i=>({...i,exists:await(0,Kt.stat)(i.path).then(()=>!0).catch(()=>!1)})))).catch(r=>((0,yt.showToast)(yt.Toast.Style.Failure,`Recent project lookup for "${t.title}" failed with error: 

 ${r}`),[])).then(async r=>await Promise.all(r))}var Ei=async e=>await Promise.all(e.map(async t=>{let r=t.xmlFiles??[];for(let n of Wh?r:r.slice(0,1)){let i=await td(n,t);t.entries=Zh("path",[...t.entries??[],...i]).sort((o,s)=>s.opened-o.opened)}return t})),ed=async(e,t)=>(await be(e)).map(r=>({...r,title:r.title,icon:t})).sort((r,n)=>n.lastModifiedAt.getTime()-r.lastModifiedAt.getTime()),fc=async()=>(await(0,yt.getApplications)()).find(e=>e.name.match("JetBrains Toolbox")),rd=e=>{if(e.item.intellij_platform===void 0)return[];let t=(0,pt.dirname)(e.item.intellij_platform.default_config_directories["idea.config.path"].replace("$HOME",(0,Yt.homedir)()));return e.item.intellij_platform.config.map(r=>`${t}/${r.directory}/options/${r.recent_projects_filename}`)},pc=async e=>{try{return String(await(0,Kt.readFile)(e))}catch(t){return(0,yt.showToast)(yt.Toast.Style.Failure,`Read file for ${e} failed with error 

 ${t}`).catch(()=>console.log(t)),null}},hc=async e=>{try{return JSON.parse(await pc(e)??"{}")}catch(t){return(0,yt.showToast)(yt.Toast.Style.Failure,`History lookup for ${e} failed with error 

 ${t}`).catch(()=>console.log(t)),{}}},nd=async()=>{let e=(await be(Jh)).find(t=>t.path);if(e?.path!==void 0)return await hc(e.path)},bi=async()=>{let e=await id(),t=await be(Qh,{deep:5,onlyDirectories:!0}),r=(await nd())?.shell_scripts.location??gi;return(await Promise.all((await be(Kh)).filter(n=>!n.path.includes("self/.history.json")).map(async n=>{let i=await hc(n.path);if(!i.history?.length)return null;let o=await pc(n.path.replace("history.json","shellLink")),s=i.history.sort((g,b)=>Number(g.item.build)-Number(b.item.build)).pop(),a=e.find(g=>g.title.startsWith(s.item.name))?.path??Bt,l=o??s.item.intellij_platform?.shell_script_name??!1,y=s.item.activation?.hosts[0]??!1;return{title:`${s.item.name} ${s.item.version}`,name:s.item.name,id:s.item.id,version:s.item.version,build:s.item.build,url:_i&&y?`jetbrains://${y}/navigate/reference?project=`:!1,tool:l?await(0,lc.default)(l,{path:r}).catch(()=>!1):!1,toolName:l||!1,app:zh(n.path,s.item.build,t),icon:a,xmlFiles:await ed(rd(s),a)}}))).filter(n=>Boolean(n))},id=async()=>(await be(Yh)).map(e=>({...e,title:e.path.split("/").find(t=>t.match(/.+\.app/))||e.title,icon:e.path}));var xt=require("@raycast/api");var fe=require("@raycast/api");var dc=require("child_process"),sd=require("react/jsx-runtime");function pe({app:e}){return(0,sd.jsx)(fe.ActionPanel.Item,{icon:Bt,title:"Launch JetBrains Toolbox",onAction:()=>{(0,dc.exec)(`open -b "${e?.bundleId}"`,t=>t&&(0,fe.showToast)(fe.Toast.Style.Failure,t?.message))}})}var he=require("react/jsx-runtime"),Te="https://jb.gg/toolbox-app";function _r({message:e,toolbox:t}){return(0,he.jsx)(xt.Detail,{markdown:e.join(`

`),actions:(0,he.jsxs)(xt.ActionPanel,{children:[t&&(0,he.jsx)(pe,{app:t}),(0,he.jsx)(xt.Action.OpenInBrowser,{title:"Open Toolbox Website",url:Te,icon:Bt}),(0,he.jsx)(xt.Action.OpenInBrowser,{title:"Open Toolbox FAQ",url:`${Te}-faq`,icon:xt.Icon.QuestionMark})]})})}var Q=require("@raycast/api");var Tc=require("react");var wi=require("child_process"),ot=require("@raycast/api"),yc=require("util"),ud=require("react/jsx-runtime"),od=(0,yc.promisify)(wi.exec);function ad(e,t){let r=e.tool?`"${e.tool}" "${t?.path??""}"`:`open ${e.url}${t?.title??""}`,n=e.app?.path??(e.tool?e.tool:"");async function i(){let s=`ps aux | grep -v "grep" | grep "${e.id}" | grep "${e.build}"`,{stdout:a}=await od(s).catch(l=>({stdout:""}));return a!==""}function o(s){return new Promise(function(a){setTimeout(a,s*1e3)})}return async function(){if(n==="")return(0,ot.showToast)(ot.Toast.Style.Failure,"Failed","No app path or tool path");let s=await i();if(!s){console.log("not-running"),await(0,ot.showHUD)(`Opening ${e.title}`).then(()=>(0,ot.open)(n));do await o(2),s=await i();while(!s)}(0,ot.showHUD)(`Opening ${t?t.title:e.title}`).then(()=>t!==null&&(0,wi.exec)(r)).then(()=>(0,ot.popToRoot)()).catch(a=>(0,ot.showToast)(ot.Toast.Style.Failure,"Failed",a.message).then(()=>console.error({error:a})))}}function Ae({tool:e,recent:t}){return(0,ud.jsx)(ot.ActionPanel.Item,{title:`Open ${t?"with ":""}${e.title}`,icon:e.icon,onAction:ad(e,t)})}var W=require("@raycast/api"),Jt=require("react");var mc=require("react"),cd=require("@raycast/api");var At=require("react"),Si=require("@raycast/api"),ld=(e,t)=>e.map(r=>r===void 0?[]:r.filter(n=>!(t??[]).includes(n))),Ti=async e=>{let t=await Si.LocalStorage.getItem(e);return JSON.parse(t??"[]")??[]},Ai=async(e,t)=>{await Si.LocalStorage.setItem(e,JSON.stringify(t))};function vi(e,...t){let[r,n]=(0,At.useState)(t),[i,o]=(0,At.useState)([]);(0,At.useEffect)(()=>{Ti(e).then(g=>o(g))},[e]);let s=(0,At.useCallback)((...g)=>n(g),[e]),a=(0,At.useCallback)(async g=>{let b=await Ti(e);b.includes(g)||b.push(g),Ai(e,b).then(()=>o(b))},[e]),l=(0,At.useCallback)(async g=>{let b=(await Ti(e)).filter(c=>c!==g);Ai(e,b).then(()=>o(b))},[e,r]),y=(0,At.useCallback)(async()=>{await Ai(e,[]),o([])},[e,r]);return[i||[],ld(r,i),s,{add:a,remove:l,reset:y}]}var Qt=require("react"),Oi=require("@raycast/api"),Ec="app.preferences",gc=async()=>{let e=await Oi.LocalStorage.getItem(Ec);return JSON.parse(e??"{}")??{}},_c=async e=>{await Oi.LocalStorage.setItem(Ec,JSON.stringify(e))};function Er(e){let[t,r]=(0,Qt.useState)(e);(0,Qt.useEffect)(()=>{gc().then(o=>r({...e,...o}))},[]);let n=(0,Qt.useCallback)(async(o,s)=>{let a=await gc();a[o]=s,await _c(a),r(a)},[]),i=(0,Qt.useCallback)(()=>{_c(e).then(()=>r(e))},[e]);return[t,{update:n,reset:i}]}var fd=require("@raycast/api");var pd=require("@raycast/api");var mt=require("react/jsx-runtime");function br(e){return function(t,r){return e.indexOf(t.title)-e.indexOf(r.title)}}function bc(e,t,r){let n=t==="UP"?e-1:e+1;return n<0||n>r.length?r:e<n?[...r.slice(0,e),...r.slice(e+1,n+1),r[e],...r.slice(n+1)]:[...r.slice(0,n),r[e],...r.slice(n,e),...r.slice(e+1)]}function wc({tools:e,sortOrder:t,saveSortOrder:r,pop:n,screenshotMode:i,toggleScreenshotMode:o}){let[s,a]=(0,Jt.useState)(t.split(","));(0,Jt.useEffect)(()=>{t!==s.join(",")&&a(t.split(","))},[t]),(0,Jt.useEffect)(()=>{if(s.length!==e.length||String(s)===""){let y=String(s)===""?e.map(g=>g.title).sort():e.sort(br(s)).map(g=>g.title);a(y)}},[]);let l=(0,Jt.useCallback)(()=>{r(s.join(",")),n?n():(0,W.popToRoot)().then(()=>(0,W.showToast)(W.Toast.Style.Success,"Saved"))},[r,n,s]);return e.length===0?(0,mt.jsx)(W.List,{navigationTitle:"Choose Application Sort Order",isLoading:!0}):(0,mt.jsx)(W.List,{navigationTitle:"Choose Application Sort Order",filtering:!1,searchBarPlaceholder:"Sort applications",children:(0,mt.jsx)(W.List.Section,{title:"Choose Order",subtitle:i?`\u2303+S to save${n?" \u2013 \u2303+C to cancel":""}`:void 0,children:e.sort(br(s)).map((y,g)=>(0,mt.jsx)(W.List.Item,{title:y.title,subtitle:y.version,icon:y.icon,accessories:i?[{text:"k move up"},{text:"j move down"}]:[],actions:(0,mt.jsxs)(W.ActionPanel,{children:[(0,mt.jsx)(W.Action,{icon:W.Icon.Checkmark,title:"Save Order",shortcut:{modifiers:["ctrl"],key:"s"},onAction:l}),n&&(0,mt.jsx)(W.Action,{icon:W.Icon.XMarkCircle,title:"Cancel",shortcut:{modifiers:["ctrl"],key:"c"},onAction:n}),(0,mt.jsx)(W.Action,{title:"Move Up",icon:W.Icon.ChevronUp,shortcut:{modifiers:[],key:"k"},onAction:()=>a(bc(g,"UP",s))}),(0,mt.jsx)(W.Action,{title:"Move Down",icon:W.Icon.ChevronDown,shortcut:{modifiers:[],key:"j"},onAction:()=>a(bc(g,"DOWN",s))}),(0,mt.jsx)(W.Action,{icon:W.Icon.Window,title:`Toggle Screenshot Mode ${i?"Off":"On"}`,onAction:o})]})},`${y.title} ${y.version}`))})})}var rt=require("react/jsx-runtime");function Pi({app:e,recent:t,tools:r,toolbox:n,addFav:i,remFav:o,sortOrder:s,setSortOrder:a,screenshotMode:l,toggleScreenshotMode:y}){let{push:g,pop:b}=(0,Q.useNavigation)(),c=r.filter(d=>d.title!==e.title),m=(0,Tc.useMemo)(()=>{let d=t.path.split("/");return[...new Set([t.path,...d,...d.map(v=>v.split("-").join(" ")),...d.map(v=>v.split("_").join(" ")),e.title].filter(v=>!!v))]},[t.path,e.title]);return(0,rt.jsx)(Q.List.Item,{accessories:[{text:e.title}],title:t.title,keywords:m,icon:t.icon,subtitle:t.parts,actions:(0,rt.jsxs)(Q.ActionPanel,{children:[(0,rt.jsxs)(Q.ActionPanel.Section,{children:[(0,rt.jsx)(Ae,{tool:e,recent:t}),(0,rt.jsx)(Q.Action.ShowInFinder,{path:t.path}),t.exists?(0,rt.jsx)(Q.Action.OpenWith,{path:t.path}):null,(0,rt.jsx)(Q.Action.CopyToClipboard,{title:"Copy Path",content:t.path,shortcut:{modifiers:["cmd","shift"],key:"."}})]}),(0,rt.jsxs)(Q.ActionPanel.Section,{children:[c.map(d=>(0,rt.jsx)(Ae,{tool:d,recent:t},`${d.title}-${t.path}`)),(0,rt.jsx)(pe,{app:n})]}),(0,rt.jsxs)(Q.ActionPanel.Section,{children:[i&&(0,rt.jsx)(Q.Action,{icon:Q.Icon.Star,shortcut:{modifiers:["cmd"],key:"f"},title:"Add To Fav",onAction:()=>i(t.path)}),o&&(0,rt.jsx)(Q.Action,{icon:Q.Icon.Star,shortcut:{modifiers:["cmd"],key:"f"},title:"Remove From Fav",onAction:()=>o(t.path)}),(0,rt.jsx)(Q.Action,{icon:Q.Icon.List,title:"Change Application Sort Order",shortcut:{modifiers:["ctrl"],key:"s"},onAction:()=>g((0,rt.jsx)(wc,{sortOrder:s,saveSortOrder:a,tools:r,pop:b,screenshotMode:l,toggleScreenshotMode:y}))}),(0,rt.jsx)(Q.Action,{icon:Q.Icon.Window,title:`Toggle screenshot mode ${l?"off":"on"}`,onAction:y})]})]})})}var wr=require("@raycast/api"),Tr=require("react/jsx-runtime");function Ac({onChange:e,appHistories:t}){return(0,Tr.jsxs)(wr.List.Dropdown,{tooltip:"Select App",onChange:e,children:[(0,Tr.jsx)(wr.List.Dropdown.Item,{title:"All Toolbox Apps",value:"",icon:Bt}),t.map(r=>(0,Tr.jsx)(wr.List.Dropdown.Item,{title:r.title,value:r.title,icon:r.icon},r.title))]})}var Ht=require("react");function Sc(e,t){let r=String(t).split(",");return(t===""||r.length===0)&&(r=e.map(n=>n.title).sort()),e.sort(br(r))}function hd(e,t){switch(t.type){case"setToolboxApp":return{...e,toolboxApp:t.results};case"setHistory":return{...e,history:t.results};case"setEntries":return{...e,isLoading:!1,appHistory:Sc(t.results,e.sortOrder),all:vc(t.results),myFavs:Oc(e.favourites,vc(t.results))};case"finished":return{...e,isLoading:!1};case"setSortOrder":return{...e,sortOrder:t.results,appHistory:Sc(e.appHistory,t.results)};case"setFavourites":return{...e,favourites:t.results,myFavs:Oc(t.results,e.all)};case"setFilter":return{...e,filter:t.results}}}var dd={isLoading:!0,appHistory:[],sortOrder:"",filter:"",all:[],favourites:[],myFavs:[]};function vc(e){return e.reduce((t,r)=>[...t,...r?.entries??[]],[])}function Oc(e,t){return e.map(r=>t.find(n=>r===n.path)).filter(r=>Boolean(r))}function Pc(){let[{sortOrder:e,screenshotMode:t},r]=Er({sortOrder:"",screenshotMode:!1}),[n,i,o,s]=vi("history",[]),[{isLoading:a,toolboxApp:l,history:y,appHistory:g,myFavs:b,filter:c,...m},d]=(0,Ht.useReducer)(hd,{...dd,sortOrder:String(e),favourites:n});return(0,Ht.useEffect)(()=>{fc().then(v=>d({type:"setToolboxApp",results:v})),bi().then(v=>d({type:"setHistory",results:v}))},[]),(0,Ht.useEffect)(()=>{y!==void 0&&Ei(y).then(v=>d({type:"setEntries",results:v}))},[y]),(0,Ht.useEffect)(()=>{e!==m.sortOrder&&d({type:"setSortOrder",results:String(e)})},[e,m.sortOrder]),(0,Ht.useEffect)(()=>{n!==m.favourites&&d({type:"setFavourites",results:n})},[n,m.favourites]),(0,Ht.useEffect)(()=>{o(...g.map(v=>(v?.entries??[]).map(C=>C.path)))},[g,c]),{isLoading:a||i.length===0,toolboxApp:l,appHistory:g,myFavs:b,filter:c,dispatch:d,histories:i,favActions:s,sortOrder:e,screenshotMode:t,prefActions:r}}var nt=require("react/jsx-runtime");function Dc(){let{isLoading:e,toolboxApp:t,appHistory:r,myFavs:n,filter:i,dispatch:o,histories:s,favActions:a,sortOrder:l,screenshotMode:y,prefActions:g}=Pc();if(e)return(0,nt.jsx)(zt.List,{searchBarPlaceholder:"Search recent projects\u2026",isLoading:!0});if(t===void 0){let c=["# Unable to find JetBrains Toolbox",`Please check that you have installed [JetBrains Toolbox](${Te})`];return(0,nt.jsx)(_r,{message:c,toolbox:void 0})}else if(r.length===0){let c=["# Unable to find any JetBrains Toolbox apps",`Please check that you have installed [JetBrains Toolbox](${Te}) and added at least one IDE.`,`If you have specified a custom "Tools install location" you'll need to set that in the preferences for this extension, this is currently set to \`${we}\`.`];return(0,nt.jsx)(_r,{message:c,toolbox:t})}else if(!r.reduce((c,m)=>c||m.tool!==!1||m.url!==!1,!1)){let c=r.filter(v=>v.tool!==v.toolName&&v.toolName!==!1).map(v=>v.toolName),m=c.length>1,d=["# There was a problem finding the JetBrains shell scripts","We were unable to find shell scripts, ensure you have the **Generate Shell scripts** option checked in *JetBrains Toolbox* under *Settings*.",`If you have set a custom path for your shell scripts, that can set that in the settings for this extension, this is currently set to \`${gi}\`.`,c.length>0?`The missing ${m?"scripts":"script"} ${m?"are":"is"} \`${c.join("`, `")}\` please check ${m?"they are":"it is"} available using ${m?"e.g.":""} \`which ${c[0]}\` from a Terminal window`:"",_i?"Additionally, we were unable to find a protocol url link to fallback on, please ensure you are using the latest version of JetBrains Toolbox and any apps you are using.":"You can also enable the extension preference to fallback to protocol url, though that is a less reliable method of opening projects."];return(0,nt.jsx)(_r,{message:d,toolbox:t})}let b=(0,nt.jsxs)(nt.Fragment,{children:[r.map(c=>(0,nt.jsx)(Ae,{tool:c,recent:null},c.title)),(0,nt.jsx)(pe,{app:t})]});return(0,nt.jsxs)(zt.List,{searchBarPlaceholder:"Search recent projects\u2026",actions:(0,nt.jsx)(zt.ActionPanel,{children:b}),searchBarAccessory:(0,nt.jsx)(Ac,{onChange:c=>o({type:"setFilter",results:String(c)}),appHistories:r}),children:[n.length&&i===""?(0,nt.jsx)(zt.List.Section,{title:"Favourites",subtitle:y?"\u2318+F to remove from favorites":void 0,children:n.map(c=>(0,nt.jsx)(Pi,{app:r.find(m=>m.title===c.appName)||r[0],recent:c,tools:r,toolbox:t,remFav:a.remove,sortOrder:String(l),setSortOrder:m=>g.update("sortOrder",m),screenshotMode:!!y,toggleScreenshotMode:()=>g.update("screenshotMode",!y)},c.path))}):null,r.filter(c=>i===""||i===c.title).map((c,m)=>(0,nt.jsx)(zt.List.Section,{title:c.name,subtitle:y?"\u2318+F to add to favorites \u2013 \u2303+S to change application order":c.version,children:(c.entries??[]).filter(d=>i!==""||(s[m]??[]).includes(d.path)).map(d=>d?.path?(0,nt.jsx)(Pi,{app:c,recent:d,tools:r,toolbox:t,addFav:a.add,sortOrder:String(l),setSortOrder:v=>g.update("sortOrder",v),screenshotMode:!!y,toggleScreenshotMode:()=>g.update("screenshotMode",!y)},`${c.title}-${d.path}`):null)},c.title))]})}0&&(module.exports={});
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
